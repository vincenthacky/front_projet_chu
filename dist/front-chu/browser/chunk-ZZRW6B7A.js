import{a as Se,b as ye,c as Oe}from"./chunk-PELTZT2M.js";import{a as be,b as Me}from"./chunk-P4I3YEHN.js";import{a as ve,b as Pe}from"./chunk-Y7M66OUD.js";import{a as de,c as ue,d as fe,e as ge}from"./chunk-ETLC3O22.js";import{a as le,b as ce,c as me}from"./chunk-LJV24WEU.js";import{a as G}from"./chunk-ADN564KK.js";import{a as _e,b as we}from"./chunk-R6I3ZYWE.js";import"./chunk-LBGCJ5DM.js";import{a as re,b as oe,c as ae,e as se}from"./chunk-CGU7QHHX.js";import{e as pe}from"./chunk-7SAAJH44.js";import{a as xe,b as Ce}from"./chunk-DDSARII4.js";import{a as ne,b as ie}from"./chunk-5HO2BJJL.js";import{d as he,e as ze}from"./chunk-66NTQKWN.js";import"./chunk-465NLBOU.js";import{a as R,b as B,d as X,f as $}from"./chunk-IXUSDIY2.js";import"./chunk-CZTCGH7Y.js";import{A as ee,B as te,d as W,e as d,g as H,h as J,n as Y,q as Z,r as K,z as Q}from"./chunk-XBYNCXSQ.js";import"./chunk-DST4DQF7.js";import{qa as j,sa as D}from"./chunk-PYGBBRX5.js";import"./chunk-VXKLZDCJ.js";import"./chunk-4FK3KGSF.js";import"./chunk-PA5JYGXZ.js";import"./chunk-HPXRSP2X.js";import{a as q}from"./chunk-M37DKQAG.js";import"./chunk-YLHBJJO7.js";import{A as L,r as I,t as A,x as k}from"./chunk-H734YLDB.js";import{Aa as x,Ac as w,Mb as a,Mc as F,Na as T,Nb as s,Ob as l,Pb as N,Qb as U,Sb as P,Yb as C,_b as f,ab as E,fb as i,gb as _,gc as b,hc as c,jc as g,oa as O,qc as V,rc as h,vb as u,wc as S,yc as y,za as z,zb as r}from"./chunk-EIVDWLNO.js";import"./chunk-4CLCTAJ7.js";var Ve=()=>({xs:12,sm:16,md:24,lg:32}),Te=()=>({color:"white",fontSize:"20px",fontWeight:"600"}),M=()=>({xs:12,sm:16,md:24});function Fe(p,e){if(p&1&&(N(0),l(1,"img",50),U()),p&2){let t=f();i(),r("src",t.avatarUrl,E)}}function Ie(p,e){p&1&&(a(0,"div",51),l(1,"span",52),a(2,"div",53),c(3,"Photo"),s()())}function Ae(p,e){p&1&&l(0,"span",54)}function ke(p,e){p&1&&(l(0,"span",55),c(1," Changer le mot de passe "))}function Le(p,e){if(p&1){let t=P();a(0,"span",56),C("click",function(){z(t);let o=f();return x(o.passwordVisible1=!o.passwordVisible1)}),s()}if(p&2){let t=f();r("nzType",t.passwordVisible1?"eye-invisible":"eye")}}function je(p,e){if(p&1){let t=P();a(0,"span",57),C("click",function(){z(t);let o=f();return x(o.passwordVisible2=!o.passwordVisible2)}),s()}if(p&2){let t=f();r("nzType",t.passwordVisible2?"eye-invisible":"eye")}}function De(p,e){if(p&1){let t=P();a(0,"span",58),C("click",function(){z(t);let o=f();return x(o.passwordVisible3=!o.passwordVisible3)}),s()}if(p&2){let t=f();r("nzType",t.passwordVisible3?"eye-invisible":"eye")}}function qe(p,e){if(p&1&&(a(0,"div",59)(1,"div",60),c(2,"Force du mot de passe :"),s(),l(3,"nz-progress",61),a(4,"span",62),c(5),s()()),p&2){let t=f();i(3),r("nzPercent",t.getPasswordStrength())("nzStatus",t.getPasswordStrengthStatus())("nzShowInfo",!1),i(),r("ngClass",t.getPasswordStrengthClass()),i(),g(" ",t.getPasswordStrengthText()," ")}}function Ge(p,e){p&1&&l(0,"span",63)}function Re(p,e){if(p&1&&(a(0,"nz-card",64)(1,"nz-descriptions",65)(2,"nz-descriptions-item",66)(3,"nz-tag",67),l(4,"span",68),c(5),S(6,"date"),s()(),a(7,"nz-descriptions-item",69)(8,"nz-tag",70),l(9,"span",71),c(10),S(11,"date"),s()(),a(12,"nz-descriptions-item",72)(13,"nz-tag",73),l(14,"span",74),c(15),s()(),a(16,"nz-descriptions-item",75)(17,"nz-tag",73),l(18,"span",63),c(19),s()()()()),p&2){let t=f();r("nzBordered",!1),i(),r("nzBordered",!0)("nzColumn",1),i(4),g(" ",y(6,9,t.memberSince,"dd/MM/yyyy")," "),i(5),g(" ",y(11,12,t.lastConnection,"dd/MM/yyyy HH:mm")," "),i(3),r("nzColor",t.getAccountStatusColor()),i(2),g(" ",t.getAccountStatusText()," "),i(2),r("nzColor",t.getSecurityLevelColor()),i(2),g(" ",t.getSecurityLevel()," ")}}function Be(p){let e=p.get("newPassword"),t=p.get("confirmPassword");return!e||!t||e.value===t.value?null:{passwordMismatch:!0}}var Ee=class p{constructor(e,t,n,o,m){this.fb=e;this.message=t;this.cdr=n;this.authService=o;this.platformId=m}passwordForm;userForm;passwordVisible1=!1;passwordVisible2=!1;passwordVisible3=!1;isPasswordSubmitting=!1;isSubmitting=!1;avatarUrl;photoProfile=null;userStats={connections:0,projects:0};loading=!1;showAdditionalInfo=!0;memberSince;lastConnection;accountStatus;passwordLastUpdated;hasStrongPassword=!1;ngOnInit(){this.initPasswordForm(),this.initUserForm(),this.loadUserProfile()}initUserForm(){this.userForm=this.fb.group({firstName:["",[d.required,d.minLength(2)]],lastName:["",[d.required,d.minLength(2)]],email:["",[d.required,d.email]],phone:[""],jobTitle:[""],address:[""]})}loadUserProfile(){let e=this.authService.getCurrentUser();e&&(console.log("\u{1F464} Chargement du profil utilisateur:",e),this.getUserProfile(e.id_utilisateur))}getUserProfile(e){this.authService.getUserProfile(e).subscribe({next:t=>{console.log("\u2705 Profil utilisateur r\xE9cup\xE9r\xE9:",t),t.success&&t.data&&this.populateUserForm(t.data)},error:t=>{console.error("\u274C Erreur lors du chargement du profil:",t),this.message.error("Erreur lors du chargement du profil utilisateur")}})}populateUserForm(e){if(this.userForm.patchValue({firstName:e.prenom?.trim()||"",lastName:e.nom||"",email:e.email||"",phone:e.telephone||"",jobTitle:e.poste||"",address:e.service||""}),this.photoProfile=e.photo_profil,this.photoProfile&&this.photoProfile.chemin_fichier){let t=this.photoProfile.chemin_fichier.replace(/\\/g,"/");this.avatarUrl=`${q.storageUrl}/${t}`,console.log("\u{1F5BC}\uFE0F Avatar URL set:",this.avatarUrl)}else this.avatarUrl="assets/images/default-avatar.png",console.log("\u{1F5BC}\uFE0F Default avatar set:",this.avatarUrl);this.cdr.detectChanges(),this.populateAccountInfo(e)}populateAccountInfo(e){e.date_inscription&&(this.memberSince=new Date(e.date_inscription)),e.derniere_connexion&&(this.lastConnection=new Date(e.derniere_connexion)),this.accountStatus=e.statut_utilisateur||"actif",e.updated_at&&(this.passwordLastUpdated=new Date(e.updated_at)),this.evaluatePasswordStrength(e)}evaluatePasswordStrength(e){let t=30;if(this.passwordLastUpdated){let n=Math.floor((new Date().getTime()-this.passwordLastUpdated.getTime())/864e5);n<30?t+=20:n<90&&(t+=10)}e.est_administrateur&&(t+=15),e.telephone&&e.poste&&e.service&&(t+=10),this.memberSince&&Math.floor((new Date().getTime()-this.memberSince.getTime())/864e5)>365&&(!this.passwordLastUpdated||Math.floor((new Date().getTime()-this.passwordLastUpdated.getTime())/(1e3*60*60*24))>180)&&(t-=15),this.hasStrongPassword=t>=60}getAccountStatusColor(){switch(this.accountStatus?.toLowerCase()){case"actif":return"success";case"suspendu":return"warning";case"inactif":return"error";default:return"default"}}getAccountStatusText(){switch(this.accountStatus?.toLowerCase()){case"actif":return"Actif";case"suspendu":return"Suspendu";case"inactif":return"Inactif";default:return"Inconnu"}}getSecurityLevel(){let e=0,t=this.authService.getCurrentUser(),n=this.evaluateCurrentPasswordStrength();if(e+=n,t?.est_administrateur&&(e+=10),t?.email&&this.isValidEmail(t.email)&&(e+=8),t?.telephone&&t.telephone.length>=8&&(e+=8),this.lastConnection){let m=Math.floor((new Date().getTime()-this.lastConnection.getTime())/864e5);m<1?e+=20:m<7?e+=15:m<30?e+=8:m<90&&(e+=3)}this.accountStatus==="actif"&&(e+=6),t?.poste&&t?.service&&t?.telephone&&(e+=8);let o=0;if(this.memberSince&&this.lastConnection){let m=Math.floor((new Date().getTime()-this.memberSince.getTime())/864e5),v=Math.floor((new Date().getTime()-this.lastConnection.getTime())/(1e3*60*60*24));m>365&&v>30&&(o+=10)}return this.passwordLastUpdated&&Math.floor((new Date().getTime()-this.passwordLastUpdated.getTime())/864e5)>180&&(o+=8),e=Math.max(0,e-o),console.log("\u{1F510} Score de s\xE9curit\xE9 d\xE9taill\xE9:",{passwordScore:n,isAdmin:t?.est_administrateur?10:0,emailScore:t?.email&&this.isValidEmail(t.email)?8:0,phoneScore:t?.telephone&&t.telephone.length>=8?8:0,connectionScore:this.getConnectionScore(),accountScore:this.accountStatus==="actif"?6:0,profileScore:t?.poste&&t?.service&&t?.telephone?8:0,penalties:o,totalScore:e,level:this.determineSecurityLevel(e)}),this.determineSecurityLevel(e)}getConnectionScore(){if(!this.lastConnection)return 0;let e=Math.floor((new Date().getTime()-this.lastConnection.getTime())/(1e3*60*60*24));return e<1?20:e<7?15:e<30?8:e<90?3:0}determineSecurityLevel(e){return e>=85?"Tr\xE8s \xE9lev\xE9":e>=70?"\xC9lev\xE9":e>=50?"Moyen":e>=30?"Faible":"Tr\xE8s faible"}evaluateCurrentPasswordStrength(){let e=5;if(this.passwordLastUpdated){let n=Math.floor((new Date().getTime()-this.passwordLastUpdated.getTime())/864e5);n<7?e+=25:n<30?e+=18:n<90?e+=12:n<180?e+=8:e+=3}else e+=10;if(this.authService.getCurrentUser()?.est_administrateur&&(e+=5),this.memberSince&&this.passwordLastUpdated){let n=Math.floor((new Date().getTime()-this.memberSince.getTime())/864e5),o=Math.floor((new Date().getTime()-this.passwordLastUpdated.getTime())/(1e3*60*60*24));n>365&&o>365&&(e-=8)}return Math.max(5,Math.min(e,40))}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}getSecurityLevelColor(){switch(this.getSecurityLevel()){case"Tr\xE8s \xE9lev\xE9":return"success";case"\xC9lev\xE9":return"processing";case"Moyen":return"warning";case"Faible":return"error";case"Tr\xE8s faible":return"error";default:return"default"}}onSubmit(){if(!this.userForm.valid){Object.values(this.userForm.controls).forEach(o=>{o.invalid&&(o.markAsDirty(),o.updateValueAndValidity({onlySelf:!0}))});return}this.isSubmitting=!0;let e=this.userForm.value,t=this.authService.getCurrentUser();if(!t){this.message.error("Utilisateur non connect\xE9"),this.isSubmitting=!1;return}let n={nom:e.lastName,prenom:e.firstName,email:e.email,telephone:e.phone,poste:e.jobTitle};console.log("\u{1F4DD} Mise \xE0 jour du profil:",n),this.authService.updateUserProfile(t.id_utilisateur,n).subscribe({next:o=>{console.log("\u2705 Profil mis \xE0 jour avec succ\xE8s:",o),this.message.success("Profil mis \xE0 jour avec succ\xE8s !"),this.isSubmitting=!1,this.cdr.detectChanges()},error:o=>{console.error("\u274C Erreur lors de la mise \xE0 jour du profil:",o);let m="Erreur lors de la mise \xE0 jour du profil";o?.error?.message&&(m=o.error.message),this.message.error(m),this.isSubmitting=!1,this.cdr.detectChanges()}})}beforeUpload=e=>{let t=e.type==="image/jpeg"||e.type==="image/png";t||this.message.error("Vous ne pouvez t\xE9l\xE9charger que des fichiers JPG/PNG !");let n=e.size/1024/1024<2;return n||this.message.error("L'image doit faire moins de 2MB !"),t&&n&&!1};handleChange(e){console.log("\u{1F4F7} Upload d'avatar:",e)}initPasswordForm(){this.passwordForm=this.fb.group({currentPassword:["",[d.required]],newPassword:["",[d.required,d.minLength(8)]],confirmPassword:["",[d.required]]},{validators:Be}),this.passwordForm.get("newPassword")?.valueChanges.subscribe(()=>{this.cdr.detectChanges()})}onPasswordSubmit(){if(!this.passwordForm.valid){Object.values(this.passwordForm.controls).forEach(n=>{n.invalid&&(n.markAsDirty(),n.updateValueAndValidity({onlySelf:!0}))});return}this.isPasswordSubmitting=!0;let e=this.passwordForm.value,t={ancien_mot_de_passe:e.currentPassword,nouveau_mot_de_passe:e.newPassword,nouveau_mot_de_passe_confirmation:e.confirmPassword};console.log("\u{1F510} Envoi des donn\xE9es de modification du mot de passe:",t),this.authService.updatePassword(t).subscribe({next:n=>{console.log("\u2705 Mot de passe modifi\xE9 avec succ\xE8s:",n),this.message.success("Mot de passe modifi\xE9 avec succ\xE8s !"),this.passwordLastUpdated=new Date,this.hasStrongPassword=this.getPasswordStrength()>=60,this.passwordForm.reset(),this.isPasswordSubmitting=!1,setTimeout(()=>{this.message.info("Vous allez \xEAtre d\xE9connect\xE9 pour des raisons de s\xE9curit\xE9..."),setTimeout(()=>{this.authService.forceLogout()},2e3)},3e3),this.cdr.detectChanges()},error:n=>{console.error("\u274C Erreur lors de la modification du mot de passe:",n);let o="Erreur lors de la modification du mot de passe";n?.error?.message?o=n.error.message:typeof n=="string"?o=n:n?.message&&(o=n.message),this.message.error(o),this.isPasswordSubmitting=!1,this.cdr.detectChanges()}})}getPasswordStrength(){let e=this.passwordForm.get("newPassword")?.value||"";if(!e)return 0;let t=0;return e.length>=8?t+=25:e.length>=6&&(t+=15),/[a-z]/.test(e)&&(t+=20),/[A-Z]/.test(e)&&(t+=20),/\d/.test(e)&&(t+=20),/[!@#$%^&*(),.?":{}|<>]/.test(e)&&(t+=15),Math.min(100,t)}getPasswordStrengthStatus(){let e=this.getPasswordStrength();return e>=80?"success":e>=60?"active":e>=40?"normal":"exception"}getPasswordStrengthText(){let e=this.getPasswordStrength();return e>=80?"Tr\xE8s fort":e>=60?"Fort":e>=40?"Moyen":e>=20?"Faible":"Tr\xE8s faible"}getPasswordStrengthClass(){let e=this.getPasswordStrength();return e>=80?"strength-very-strong":e>=60?"strength-strong":e>=40?"strength-medium":e>=20?"strength-weak":"strength-very-weak"}static \u0275fac=function(t){return new(t||p)(_(Q),_(pe),_(F),_(G),_(T))};static \u0275cmp=O({type:p,selectors:[["app-profile-admin"]],standalone:!0,features:[V],decls:98,vars:47,consts:[["uploadIcon",""],["passwordTitle",""],["suffixTemplate1",""],["suffixTemplate2",""],["suffixTemplate3",""],[1,"profile-container"],["nzTitle","Mon Profil",1,"profile-card","card-animated",3,"nzBordered"],["nz-row","",1,"profile-header",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","8","nzLg","6",1,"avatar-section"],["nzName","avatar","nzListType","picture-card","aria-label","T\xE9l\xE9charger une photo de profil",1,"profile-upload",3,"nzChange","nzShowUploadList","nzBeforeUpload"],[4,"ngIf","ngIfElse"],[1,"user-stats"],[3,"nzValue","nzValueStyle"],["nz-col","","nzXs","24","nzSm","24","nzMd","16","nzLg","18"],[1,"profile-form",3,"ngSubmit","formGroup"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12"],[3,"nzRequired"],["nzErrorTip","Veuillez entrer un pr\xE9nom valide (min 2 caract\xE8res)"],["nz-input","","formControlName","firstName","placeholder","Votre pr\xE9nom","autocomplete","given-name","aria-required","true"],[1,"input"],["nzErrorTip","Veuillez entrer un nom valide (min 2 caract\xE8res)"],["nz-input","","formControlName","lastName","placeholder","Votre nom de famille","autocomplete","family-name","aria-required","true"],["nzErrorTip","Veuillez entrer un email valide"],["nz-input","","formControlName","email","placeholder","votre.email@exemple.com","type","email","autocomplete","email","aria-required","true"],["nz-input","","formControlName","phone","placeholder","+33 1 23 45 67 89","type","tel","autocomplete","tel"],["nz-input","","formControlName","jobTitle","placeholder","Votre fonction","autocomplete","organization-title"],["nz-input","","formControlName","address","placeholder","Votre adresse","autocomplete","street-address"],[1,"profile-actions"],["nz-button","","nzType","primary","type","submit","aria-label","Modifier les informations du profil",2,"display","inline-flex !important","visibility","visible !important","opacity","1 !important",3,"nzLoading","disabled"],["nz-icon","","nzType","edit","nzTheme","outline",4,"ngIf"],["nzTitle","S\xE9curit\xE9 du compte",1,"password-card","card-animated",3,"nzBordered"],[1,"password-form",3,"ngSubmit","formGroup"],["nzType","info","nzMessage","S\xE9curit\xE9","nzDescription","Votre mot de passe doit contenir au minimum 8 caract\xE8res. Pour une s\xE9curit\xE9 optimale, utilisez une combinaison de lettres, chiffres et caract\xE8res sp\xE9ciaux.","nzShowIcon","","nzClosable","false",1,"security-alert"],["nz-col","","nzXs","24","nzSm","24","nzMd","8"],["nz-icon","","nzType","key","nzTheme","outline",2,"margin-right","10px"],["nzErrorTip","Veuillez entrer votre mot de passe actuel"],[3,"nzSuffix"],["nz-input","","formControlName","currentPassword","placeholder","Votre mot de passe actuel","autocomplete","current-password","aria-required","true",3,"type"],["nz-icon","","nzType","safety-certificate","nzTheme","outline",2,"margin-right","10px"],["nzErrorTip","Le mot de passe doit contenir au minimum 6 caract\xE8res"],["nz-input","","formControlName","newPassword","placeholder","Nouveau mot de passe (min 8 caract\xE8res)","autocomplete","new-password","aria-required","true",3,"type"],["nz-icon","","nzType","check-circle","nzTheme","outline",2,"margin-right","10px"],[3,"nzErrorTip"],["nz-input","","formControlName","confirmPassword","placeholder","Confirmez votre nouveau mot de passe","autocomplete","new-password","aria-required","true",3,"type"],["class","password-strength",4,"ngIf"],[1,"password-actions"],["nz-button","","nzType","primary","type","submit","aria-label","Changer le mot de passe",3,"nzLoading","disabled"],["nz-icon","","nzType","safety-certificate","nzTheme","outline",4,"ngIf"],["nzTitle","Informations du compte","class","info-card card-animated",3,"nzBordered",4,"ngIf"],["alt","Photo de profil",1,"profile-avatar",3,"src"],[1,"upload-icon"],["nz-icon","","nzType","camera","nzTheme","outline"],[1,"upload-text"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","lock","nzTheme","outline"],["nz-icon","","aria-label","Afficher/masquer le mot de passe",1,"password-toggle",3,"click","nzType"],["nz-icon","","aria-label","Afficher/masquer le nouveau mot de passe",1,"password-toggle",3,"click","nzType"],["nz-icon","","aria-label","Afficher/masquer la confirmation du mot de passe",1,"password-toggle",3,"click","nzType"],[1,"password-strength"],[1,"strength-label"],["nzSize","small",1,"strength-meter",3,"nzPercent","nzStatus","nzShowInfo"],[1,"strength-text",3,"ngClass"],["nz-icon","","nzType","safety-certificate","nzTheme","outline"],["nzTitle","Informations du compte",1,"info-card","card-animated",3,"nzBordered"],[1,"vertical-descriptions",3,"nzBordered","nzColumn"],["nzTitle","Membre depuis"],["nzColor","blue"],["nz-icon","","nzType","calendar","nzTheme","outline"],["nzTitle","Derni\xE8re connexion"],["nzColor","green"],["nz-icon","","nzType","clock-circle","nzTheme","outline"],["nzTitle","Statut du compte"],[3,"nzColor"],["nz-icon","","nzType","check-circle","nzTheme","outline"],["nzTitle","Niveau de s\xE9curit\xE9"]],template:function(t,n){if(t&1){let o=P();a(0,"div",5)(1,"nz-card",6)(2,"div",7)(3,"div",8)(4,"nz-upload",9),C("nzChange",function(v){return z(o),x(n.handleChange(v))}),u(5,Fe,2,1,"ng-container",10)(6,Ie,4,0,"ng-template",null,0,w),s(),a(8,"div",11),l(9,"nz-statistic",12)(10,"nz-statistic",12),s()(),a(11,"div",13)(12,"form",14),C("ngSubmit",function(){return z(o),x(n.onSubmit())}),a(13,"div",15)(14,"div",16)(15,"nz-form-item")(16,"nz-form-label",17),c(17,"Pr\xE9nom"),s(),a(18,"nz-form-control",18),l(19,"input",19),s()()(),a(20,"div",16)(21,"nz-form-item",20)(22,"nz-form-label",17),c(23,"Nom"),s(),a(24,"nz-form-control",21),l(25,"input",22),s()()()(),a(26,"div",15)(27,"div",16)(28,"nz-form-item")(29,"nz-form-label",17),c(30,"Email"),s(),a(31,"nz-form-control",23),l(32,"input",24),s()()(),a(33,"div",16)(34,"nz-form-item",20)(35,"nz-form-label"),c(36,"T\xE9l\xE9phone"),s(),a(37,"nz-form-control"),l(38,"input",25),s()()()(),a(39,"div",15)(40,"div",16)(41,"nz-form-item")(42,"nz-form-label"),c(43,"Poste"),s(),a(44,"nz-form-control"),l(45,"input",26),s()()(),a(46,"div",16)(47,"nz-form-item",20)(48,"nz-form-label"),c(49,"Adresse"),s(),a(50,"nz-form-control"),l(51,"input",27),s()()()(),a(52,"div",28)(53,"button",29),u(54,Ae,1,0,"span",30),c(55),s()()()()()(),a(56,"nz-card",31),u(57,ke,2,0,"ng-template",null,1,w),a(59,"form",32),C("ngSubmit",function(){return z(o),x(n.onPasswordSubmit())}),l(60,"nz-alert",33),a(61,"div",15)(62,"div",34)(63,"nz-form-item")(64,"nz-form-label",17),l(65,"span",35),c(66," Mot de passe actuel "),s(),a(67,"nz-form-control",36)(68,"nz-input-group",37),l(69,"input",38),s(),u(70,Le,1,1,"ng-template",null,2,w),s()()(),a(72,"div",34)(73,"nz-form-item")(74,"nz-form-label",17),l(75,"span",39),c(76," Nouveau mot de passe "),s(),a(77,"nz-form-control",40)(78,"nz-input-group",37),l(79,"input",41),s(),u(80,je,1,1,"ng-template",null,3,w),s()()(),a(82,"div",34)(83,"nz-form-item")(84,"nz-form-label",17),l(85,"span",42),c(86," Confirmer le mot de passe "),s(),a(87,"nz-form-control",43)(88,"nz-input-group",37),l(89,"input",44),s(),u(90,De,1,1,"ng-template",null,4,w),s()()()(),u(92,qe,6,5,"div",45),a(93,"div",46)(94,"button",47),u(95,Ge,1,0,"span",48),c(96),s()()()(),u(97,Re,20,15,"nz-card",49),s()}if(t&2){let o,m=b(7),v=b(71),Ne=b(81),Ue=b(91);i(),r("nzBordered",!1),i(),r("nzGutter",h(40,Ve)),i(2),r("nzShowUploadList",!1)("nzBeforeUpload",n.beforeUpload),i(),r("ngIf",n.avatarUrl)("ngIfElse",m),i(4),r("nzValue",n.userStats.connections)("nzValueStyle",h(41,Te)),i(),r("nzValue",n.userStats.projects)("nzValueStyle",h(42,Te)),i(2),r("formGroup",n.userForm),i(),r("nzGutter",h(43,M)),i(3),r("nzRequired",!0),i(6),r("nzRequired",!0),i(4),r("nzGutter",h(44,M)),i(3),r("nzRequired",!0),i(10),r("nzGutter",h(45,M)),i(14),r("nzLoading",n.isSubmitting)("disabled",!n.userForm.valid),i(),r("ngIf",!n.isSubmitting),i(),g(" ",n.isSubmitting?"Modification...":"Modifier"," "),i(),r("nzBordered",!1),i(3),r("formGroup",n.passwordForm),i(2),r("nzGutter",h(46,M)),i(3),r("nzRequired",!0),i(4),r("nzSuffix",v),i(),r("type",n.passwordVisible1?"text":"password"),i(5),r("nzRequired",!0),i(4),r("nzSuffix",Ne),i(),r("type",n.passwordVisible2?"text":"password"),i(5),r("nzRequired",!0),i(3),r("nzErrorTip",n.passwordForm.hasError("passwordMismatch")?"Les mots de passe ne correspondent pas":"Veuillez confirmer le mot de passe"),i(),r("nzSuffix",Ue),i(),r("type",n.passwordVisible3?"text":"password"),i(3),r("ngIf",(o=n.passwordForm.get("newPassword"))==null?null:o.value),i(2),r("nzLoading",n.isPasswordSubmitting)("disabled",!n.passwordForm.valid),i(),r("ngIf",!n.isPasswordSubmitting),i(),g(" ",n.isPasswordSubmitting?"Modification...":"Changer le mot de passe"," "),i(),r("ngIf",n.showAdditionalInfo)}},dependencies:[L,I,A,k,te,Y,W,H,J,Z,K,ee,me,ce,le,ze,he,Me,be,Ce,xe,ge,de,fe,ue,se,re,ae,oe,$,X,R,B,D,j,we,_e,ie,ne,Oe,ye,Se,Pe,ve],styles:["[_ngcontent-%COMP%]:root{--primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--shadow-light: 0 4px 20px rgba(0, 0, 0, .08);--border-radius: 16px;--border-radius-small: 8px;--transition: all .3s ease;--text-primary: #2d3436;--text-secondary: #636e72;--spacing-xs: 8px;--spacing-sm: 16px;--spacing-md: 24px;--spacing-lg: 32px}.profile-container[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 64px);padding:24px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.profile-card[_ngcontent-%COMP%]{background:#fffffff2!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px!important;box-shadow:0 4px 20px #00000014;margin-bottom:24px}.profile-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);padding:24px;border-radius:16px 16px 0 0}.avatar-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:24px}.profile-avatar[_ngcontent-%COMP%]{width:100px!important;height:100px!important;border-radius:50%!important;object-fit:cover;border:3px solid rgba(255,255,255,.8);box-shadow:0 4px 16px #0000001a}.upload-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100px;height:100px;border:2px dashed rgba(255,255,255,.6);border-radius:50%;background:#ffffff1a;color:#fff;cursor:pointer}.user-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:16px;width:100%;max-width:300px}.profile-form[_ngcontent-%COMP%]{padding:24px;background:#ffffffb3;border-radius:0 0 16px 16px;max-height:70vh;overflow-y:auto}.profile-actions[_ngcontent-%COMP%]{display:flex!important;gap:16px;justify-content:flex-end;margin-top:24px;visibility:visible!important;opacity:1!important}.profile-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex!important;visibility:visible!important;opacity:1!important}.password-card[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]{background:#fffffff2!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px!important;box-shadow:0 4px 20px #00000014;margin-top:24px!important}.password-form[_ngcontent-%COMP%]{padding:24px}.password-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end;margin-top:24px}.security-alert[_ngcontent-%COMP%]{margin-bottom:24px!important;border-radius:8px!important}.password-strength[_ngcontent-%COMP%]{margin:16px 0;padding:16px;background:#ffffffb3;border-radius:8px}.strength-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#2d3436;margin-bottom:8px}.strength-meter[_ngcontent-%COMP%]{margin-bottom:8px!important}.strength-text[_ngcontent-%COMP%]{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.strength-weak[_ngcontent-%COMP%]{color:#ff4757}.strength-fair[_ngcontent-%COMP%]{color:#ffa726}.strength-good[_ngcontent-%COMP%]{color:#66bb6a}.strength-excellent[_ngcontent-%COMP%]{color:#4caf50}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.card-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .6s ease}[_ngcontent-%COMP%]:is()   .ant-card[_ngcontent-%COMP%]{border-radius:16px!important;box-shadow:0 4px 20px #00000014!important;border:none!important}[_ngcontent-%COMP%]:is()   .ant-card-head[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:16px 16px 0 0;padding:16px 24px}[_ngcontent-%COMP%]:is()   .ant-card-body[_ngcontent-%COMP%]{padding:24px!important}[_ngcontent-%COMP%]:is()   .ant-input[_ngcontent-%COMP%]{border-radius:8px!important;border:2px solid #e9ecef!important;padding:10px!important;font-size:14px}[_ngcontent-%COMP%]:is()   .ant-btn[_ngcontent-%COMP%]{border-radius:8px!important;padding:8px 20px!important;min-height:38px;display:inline-flex!important;align-items:center;visibility:visible!important}[_ngcontent-%COMP%]:is()   .ant-btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important;border:none!important}[_ngcontent-%COMP%]:is()   .ant-form-item[_ngcontent-%COMP%]{margin-bottom:32px!important}[_ngcontent-%COMP%]:is()   .ant-form-item-label[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-left:0!important}[_ngcontent-%COMP%]:is()   .ant-statistic-title[_ngcontent-%COMP%]{font-weight:500!important;color:#ffffffe6!important;margin-bottom:8px!important;font-size:14px}[_ngcontent-%COMP%]:is()   .ant-statistic-content[_ngcontent-%COMP%]{color:#fff!important;font-weight:600!important;font-size:24px}[_ngcontent-%COMP%]:is()   .ant-progress-line[_ngcontent-%COMP%]   .ant-progress-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important;border-radius:10px!important}[_ngcontent-%COMP%]:is()   .ant-progress-line[_ngcontent-%COMP%]   .ant-progress-inner[_ngcontent-%COMP%]{background:#0000000f!important;border-radius:10px!important}[_ngcontent-%COMP%]:is()   .ant-descriptions-item-label[_ngcontent-%COMP%]{font-weight:600!important;color:#2d3436!important;background:#667eea0d!important;border-radius:8px 0 0 8px}[_ngcontent-%COMP%]:is()   .ant-descriptions-item-content[_ngcontent-%COMP%]{background:#ffffff80;border-radius:0 8px 8px 0}[_ngcontent-%COMP%]:is()   .ant-tag[_ngcontent-%COMP%]{border-radius:8px!important;font-weight:500!important;padding:4px 12px!important;border:none!important;display:inline-flex!important;align-items:center!important;gap:4px!important}[_ngcontent-%COMP%]:is()   .ant-alert[_ngcontent-%COMP%]{border-radius:8px!important;border:none!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}[_ngcontent-%COMP%]:is()   .ant-alert-info[_ngcontent-%COMP%]{background:#1890ff1a!important;color:#1890ff!important}@media (min-width: 1200px){.profile-container[_ngcontent-%COMP%]{padding:32px}.profile-card[_ngcontent-%COMP%], .password-card[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]{max-width:1200px;margin-left:auto;margin-right:auto}.user-stats[_ngcontent-%COMP%]{max-width:400px}.profile-avatar[_ngcontent-%COMP%], .upload-icon[_ngcontent-%COMP%]{width:120px!important;height:120px!important}}@media (min-width: 992px) and (max-width: 1199px){.profile-container[_ngcontent-%COMP%]{padding:24px}.profile-card[_ngcontent-%COMP%], .password-card[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]{max-width:100%}}@media (min-width: 768px) and (max-width: 991px){.profile-container[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%], .password-form[_ngcontent-%COMP%]{padding:12px}.profile-avatar[_ngcontent-%COMP%], .upload-icon[_ngcontent-%COMP%]{width:90px!important;height:90px!important}.user-stats[_ngcontent-%COMP%]{flex-direction:row;max-width:280px}.profile-actions[_ngcontent-%COMP%], .password-actions[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}}@media (min-width: 481px) and (max-width: 767px){.profile-container[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%], .password-form[_ngcontent-%COMP%]{padding:12px}.profile-avatar[_ngcontent-%COMP%], .upload-icon[_ngcontent-%COMP%]{width:80px!important;height:80px!important}.user-stats[_ngcontent-%COMP%]{flex-direction:column;align-items:center;max-width:250px}.profile-actions[_ngcontent-%COMP%], .password-actions[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;gap:12px}.ant-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (min-width: 360px) and (max-width: 480px){.profile-container[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%], .password-form[_ngcontent-%COMP%]{padding:8px}.profile-avatar[_ngcontent-%COMP%], .upload-icon[_ngcontent-%COMP%]{width:70px!important;height:70px!important}.user-stats[_ngcontent-%COMP%]{flex-direction:column;align-items:center;max-width:200px}.profile-actions[_ngcontent-%COMP%], .password-actions[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;gap:8px}.ant-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 359px){.profile-container[_ngcontent-%COMP%], .profile-form[_ngcontent-%COMP%], .password-form[_ngcontent-%COMP%]{padding:6px}.profile-avatar[_ngcontent-%COMP%], .upload-icon[_ngcontent-%COMP%]{width:60px!important;height:60px!important}.user-stats[_ngcontent-%COMP%]{flex-direction:column;align-items:center;max-width:180px}.profile-actions[_ngcontent-%COMP%], .password-actions[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;gap:6px}.ant-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.password-form[_ngcontent-%COMP%]   .ant-form-item[_ngcontent-%COMP%]{margin-bottom:24px!important}.vertical-descriptions[_ngcontent-%COMP%]   .ant-descriptions-item[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:flex-start;margin-bottom:24px}.vertical-descriptions[_ngcontent-%COMP%]   .ant-descriptions-item-label[_ngcontent-%COMP%]{font-weight:600;color:#2d3436;margin-bottom:4px}.vertical-descriptions[_ngcontent-%COMP%]   .ant-descriptions-item-content[_ngcontent-%COMP%]{width:100%}.password-toggle[_ngcontent-%COMP%]{cursor:pointer;color:#636e72}.password-toggle[_ngcontent-%COMP%]:hover{color:#2d3436}.input[_ngcontent-%COMP%]{margin-left:15px}"]})};export{Ee as ProfileAdminComponent};
