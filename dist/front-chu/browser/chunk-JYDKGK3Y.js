import{a as at,b as pt}from"./chunk-LBGCJ5DM.js";import{a as Bt,d as L,e as Qt}from"./chunk-CGU7QHHX.js";import{a as Mt,b as jt,c as Ft,i as $t,o as P,qa as rt,sa as lt}from"./chunk-PYGBBRX5.js";import{i as q}from"./chunk-VXKLZDCJ.js";import{A as Vt,I as ot,J as st,R as At,S as O,v as nt,w as kt}from"./chunk-4FK3KGSF.js";import{d as Q,v as Rt}from"./chunk-H734YLDB.js";import{$b as bt,Aa as C,Ab as V,Ac as Dt,Bb as tt,Ea as gt,Ga as z,Ha as J,Hb as p,Ja as $,Mb as _,Mc as B,Nb as g,O as Ct,Ob as j,Pb as et,Qb as it,Rc as D,Sb as N,Sc as Ot,X as Y,Y as d,Yb as u,_b as l,a as yt,ac as wt,c as Z,da as zt,dc as x,ea as k,ec as E,f as U,fb as a,fc as T,g as ft,gb as r,gc as Nt,hc as I,ia as _t,ja as G,jc as S,k as W,l as w,mb as xt,nb as Et,oa as F,pa as M,pc as It,qa as K,qc as A,sb as Tt,sc as St,vb as h,xb as vt,y as H,ya as X,za as f,zb as c}from"./chunk-EIVDWLNO.js";var ct=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=K({type:e,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(n,i){n&2&&V("border","0")("background","transparent")("padding","0")("line-height","inherit")},standalone:!0})}}return e})(),dt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=M({type:e})}static{this.\u0275inj=k({})}}return e})();var ht=class{constructor(s,t){this._document=t;let n=this._textarea=this._document.createElement("textarea"),i=n.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",n.setAttribute("aria-hidden","true"),n.value=s,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){let s=this._textarea,t=!1;try{if(s){let n=this._document.activeElement;s.select(),s.setSelectionRange(0,s.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch{}return t}destroy(){let s=this._textarea;s&&(s.remove(),this._textarea=void 0)}},qt=(()=>{class e{constructor(t){this._document=t}copy(t){let n=this.beginCopy(t),i=n.copy();return n.destroy(),i}beginCopy(t){return new ht(t,this._document)}static{this.\u0275fac=function(n){return new(n||e)(_t(Q))}}static{this.\u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Wt(e,s){if(e&1&&(et(0),j(1,"span",2),it()),e&2){let t=s.$implicit;a(),c("nzType",t)}}var Ht=["textarea"];function Yt(e,s){if(e&1){let t=N();_(0,"textarea",2,0),u("blur",function(){f(t);let i=l();return C(i.confirm())}),g(),_(2,"button",3),u("click",function(){f(t);let i=l();return C(i.confirm())}),j(3,"span",4),g()}}function Gt(e,s){if(e&1&&(et(0),j(1,"span",7),it()),e&2){let t=s.$implicit;a(),c("nzType",t)}}function Kt(e,s){if(e&1){let t=N();_(0,"button",5),u("click",function(){f(t);let i=l();return C(i.onClick())}),h(1,Gt,2,1,"ng-container",6),g()}if(e&2){let t=l();c("nzTooltipTitle",t.tooltip===null?null:t.tooltip||(t.locale==null?null:t.locale.edit)),a(),c("nzStringTemplateOutlet",t.icon)}}var Xt=["ellipsisContainer"],Jt=["expandable"],te=["contentTemplate"],ee=["*"],ie=e=>({content:e});function ne(e,s){e&1&&wt(0)}function oe(e,s){if(e&1&&(h(0,ne,1,0),I(1)),e&2){let t=s.content;p(t?-1:0),a(),S(" ",t," ")}}function se(e,s){}function re(e,s){if(e&1&&I(0),e&2){let t=l(3);S(" ",t.nzSuffix," ")}}function le(e,s){if(e&1&&h(0,se,0,0,"ng-template",5)(1,re,1,1),e&2){let t=l(2),n=Nt(1);c("ngTemplateOutlet",n)("ngTemplateOutletContext",St(3,ie,t.nzContent)),a(),p(t.nzSuffix?1:-1)}}function ae(e,s){if(e&1&&I(0),e&2){let t=l(3);S(" ",t.ellipsisStr," ")}}function pe(e,s){if(e&1&&I(0),e&2){let t=l(3);S(" ",t.nzSuffix," ")}}function ce(e,s){if(e&1){let t=N();_(0,"a",7,2),u("click",function(){f(t);let i=l(3);return C(i.onExpand())}),I(2),g()}if(e&2){let t=l(3);a(2),S(" ",t.locale==null?null:t.locale.expand," ")}}function de(e,s){if(e&1&&(j(0,"span",null,1),h(2,ae,1,1)(3,pe,1,1)(4,ce,3,1,"a",6)),e&2){let t=l(2);a(2),p(t.isEllipsis?2:-1),a(),p(t.nzSuffix?3:-1),a(),p(t.nzExpandable&&t.isEllipsis?4:-1)}}function he(e,s){if(e&1&&h(0,le,2,5)(1,de,5,3),e&2){let t=l();p(t.expanded||!t.hasOperationsWithEllipsis&&t.nzEllipsisRows===1&&!t.hasEllipsisObservers||t.canCssEllipsis||t.nzSuffix&&t.expanded?0:1)}}function ue(e,s){if(e&1){let t=N();_(0,"nz-text-edit",8),u("endEditing",function(i){f(t);let o=l();return C(o.onEndEditing(i))})("startEditing",function(){f(t);let i=l();return C(i.onStartEditing())}),g()}if(e&2){let t=l();c("text",t.nzContent)("icon",t.nzEditIcon)("tooltip",t.nzEditTooltip)}}function me(e,s){if(e&1){let t=N();_(0,"nz-text-copy",9),u("textCopy",function(i){f(t);let o=l();return C(o.onTextCopy(i))}),g()}if(e&2){let t=l();c("text",t.copyText)("tooltips",t.nzCopyTooltips)("icons",t.nzCopyIcons)}}var ut=(()=>{class e{constructor(t,n,i,o){this.host=t,this.cdr=n,this.clipboard=i,this.i18n=o,this.copied=!1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new U,this.icons=["copy","check"],this.textCopy=new z}ngOnInit(){this.i18n.localeChange.pipe(d(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){let{tooltips:n,icons:i}=t;n&&this.updateTooltips(),i&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[t,n]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=n||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[t,n]=this.icons;this.copyIcon=t,this.copedIcon=n,this.cdr.markForCheck()}static{this.\u0275fac=function(n){return new(n||e)(r($),r(B),r(qt),r(q))}}static{this.\u0275cmp=F({type:e,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],standalone:!0,features:[X,A],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(n,i){n&1&&(_(0,"button",0),u("click",function(){return i.onClick()}),h(1,Wt,2,1,"ng-container",1),g()),n&2&&(tt("ant-typography-copy-success",i.copied),c("nzTooltipTitle",i.copied?i.copedTooltip:i.copyTooltip),a(),c("nzStringTemplateOutlet",i.copied?i.copedIcon:i.copyIcon))},dependencies:[pt,at,dt,ct,lt,rt,st,ot],encapsulation:2,changeDetection:0})}}return e})(),mt=(()=>{class e{set textarea(t){this.textarea$.next(t)}constructor(t,n,i,o,v){this.ngZone=t,this.host=n,this.cdr=i,this.i18n=o,this.destroy$=v,this.editing=!1,this.icon="edit",this.startEditing=new z,this.endEditing=new z(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new ft(null),this.injector=G(gt)}ngOnInit(){this.i18n.localeChange.pipe(d(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(Y(t=>t?new Z(n=>this.ngZone.runOutsideAngular(()=>H(t.nativeElement,"keydown").subscribe(n))):W),d(this.destroy$)).subscribe(t=>{t.keyCode!==27&&t.keyCode!==13||this.ngZone.run(()=>{t.keyCode===27?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe(Y(t=>t?new Z(n=>this.ngZone.runOutsideAngular(()=>H(t.nativeElement,"input").subscribe(n))):W),d(this.destroy$)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:t}=this;vt(()=>{this.textarea$.pipe(Ct(n=>n!=null),d(this.destroy$)).subscribe(n=>{n.nativeElement.focus(),n.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:t})}static{this.\u0275fac=function(n){return new(n||e)(r(J),r($),r(B),r(q),r(P))}}static{this.\u0275cmp=F({type:e,selectors:[["nz-text-edit"]],viewQuery:function(n,i){if(n&1&&(x(Ht,5),x(L,5)),n&2){let o;E(o=T())&&(i.textarea=o.first),E(o=T())&&(i.autosizeDirective=o.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],standalone:!0,features:[It([P]),A],decls:2,vars:1,consts:[["textarea",""],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nz-icon","","nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(n,i){n&1&&h(0,Yt,4,0)(1,Kt,2,2,"button",1),n&2&&p(i.editing?0:1)},dependencies:[Qt,Bt,L,dt,ct,lt,rt,pt,at,st,ot],encapsulation:2,changeDetection:0})}}return e})(),ye="typography",fe="ant-typography-expand",Ce=(()=>{class e{get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(t,n,i,o,v,R,b,m,y){this.nzConfigService=t,this.host=n,this.cdr=i,this.viewContainerRef=o,this.renderer=v,this.platform=R,this.i18n=b,this.resizeService=m,this.directionality=y,this._nzModuleName=ye,this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=void 0,this.nzCopyIcons=["copy","check"],this.nzEditTooltip=void 0,this.nzEditIcon="edit",this.nzEllipsisRows=1,this.nzContentChange=new z,this.nzCopy=new z,this.nzExpandChange=new z,this.nzOnEllipsis=new z,this.document=G(Q),this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new U,this.windowResizeSubscription=yt.EMPTY}onTextCopy(t){this.nzCopy.emit(t)}onStartEditing(){this.editing=!0}onEndEditing(t){this.editing=!1,this.nzContentChange.emit(t),this.nzContent===t&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?nt("textOverflow"):nt("webkitLineClamp")}renderOnNextFrame(){Mt(this.rfaId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.rfaId=jt(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){let t=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return t.detectChanges(),{viewRef:t,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(t))}}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:t,removeView:n}=this.getOriginContentViewRef(),i=[this.textCopyRef,this.textEditRef].filter(y=>y&&y.nativeElement).map(y=>y.nativeElement),o=this.getExpandableBtnElement();o&&i.push(o);let{contentNodes:v,text:R,ellipsis:b}=kt(this.host.nativeElement,this.nzEllipsisRows,t.rootNodes,i,this.ellipsisStr,this.nzSuffix);n(),this.ellipsisText=R,b!==this.isEllipsis&&(this.isEllipsis=b,this.nzOnEllipsis.emit(b));let m=this.ellipsisContainer.nativeElement;for(;m.firstChild;)this.renderer.removeChild(m,m.firstChild);v.forEach(y=>{this.renderer.appendChild(m,y.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let t=this.locale?this.locale.expand:"",n=this.expandableBtnElementCache;if(!n||n.innerText===t){let i=this.document.createElement("a");i.className=fe,i.innerText=t,this.expandableBtnElementCache=i}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe(d(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(d(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(d(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(t){let{nzCopyable:n,nzEditable:i,nzExpandable:o,nzEllipsis:v,nzContent:R,nzEllipsisRows:b,nzSuffix:m}=t;(n||i||o||v||R||b||m)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(r(At),r($),r(B),r(Et),r(xt),r(Ft),r(q),r($t),r(Vt))}}static{this.\u0275cmp=F({type:e,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(n,i){if(n&1&&(x(mt,5),x(ut,5),x(Xt,5),x(Jt,5),x(te,5)),n&2){let o;E(o=T())&&(i.textEditRef=o.first),E(o=T())&&(i.textCopyRef=o.first),E(o=T())&&(i.ellipsisContainer=o.first),E(o=T())&&(i.expandableBtn=o.first),E(o=T())&&(i.contentTemplate=o.first)}},hostVars:26,hostBindings:function(n,i){n&2&&(V("-webkit-line-clamp",i.canCssEllipsis&&i.nzEllipsisRows>1?i.nzEllipsisRows:null),tt("ant-typography",!i.editing)("ant-typography-rtl",i.dir==="rtl")("ant-typography-edit-content",i.editing)("ant-typography-secondary",i.nzType==="secondary")("ant-typography-warning",i.nzType==="warning")("ant-typography-danger",i.nzType==="danger")("ant-typography-success",i.nzType==="success")("ant-typography-disabled",i.nzDisabled)("ant-typography-ellipsis",i.nzEllipsis&&!i.expanded)("ant-typography-single-line",i.nzEllipsis&&i.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",i.canCssEllipsis&&i.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",i.canCssEllipsis&&i.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",D],nzEditable:[2,"nzEditable","nzEditable",D],nzDisabled:[2,"nzDisabled","nzDisabled",D],nzExpandable:[2,"nzExpandable","nzExpandable",D],nzEllipsis:[2,"nzEllipsis","nzEllipsis",D],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",Ot],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],standalone:!0,features:[Tt,X,A],ngContentSelectors:ee,decls:5,vars:3,consts:[["contentTemplate",""],["ellipsisContainer",""],["expandable",""],[3,"text","icon","tooltip"],[3,"text","tooltips","icons"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-typography-expand"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(n,i){n&1&&(bt(),h(0,oe,2,2,"ng-template",null,0,Dt)(2,he,2,1)(3,ue,1,3,"nz-text-edit",3)(4,me,1,3,"nz-text-copy",4)),n&2&&(a(2),p(i.editing?-1:2),a(),p(i.nzEditable?3:-1),a(),p(i.nzCopyable&&!i.editing?4:-1))},dependencies:[Rt,mt,ut],encapsulation:2,changeDetection:0})}}return w([O()],e.prototype,"nzCopyTooltips",void 0),w([O()],e.prototype,"nzCopyIcons",void 0),w([O()],e.prototype,"nzEditTooltip",void 0),w([O()],e.prototype,"nzEditIcon",void 0),w([O()],e.prototype,"nzEllipsisRows",void 0),e})(),Ge=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=M({type:e})}static{this.\u0275inj=k({imports:[Ce,ut,mt]})}}return e})();export{Ce as a,Ge as b};
