import './polyfills.server.mjs';
import{a as I}from"./chunk-FEJFGSNX.mjs";import{a as N,b as E,c as L,d as A,e as P}from"./chunk-GMAFPMIL.mjs";import{a as B,b as F}from"./chunk-B6CSGGXH.mjs";import{a as $,d as W}from"./chunk-5YB4IETY.mjs";import{c as S,d as G,e as U,g as C}from"./chunk-VDKS4F7J.mjs";import{a as R,b as j}from"./chunk-TPOFWVII.mjs";import{a as D}from"./chunk-SIH37N7M.mjs";import"./chunk-F2M3OOMJ.mjs";import"./chunk-TRLQKWDU.mjs";import"./chunk-VTN35E7P.mjs";import{F as k,H as z}from"./chunk-DXOQ4KLL.mjs";import{a as d}from"./chunk-G6UIES2I.mjs";import"./chunk-CHSZOI33.mjs";import"./chunk-2YQYLHAC.mjs";import"./chunk-LGFZWUQG.mjs";import{c as b,f as T}from"./chunk-LI7RJ6PT.mjs";import"./chunk-UXVSRWVF.mjs";import{C as x,F as y}from"./chunk-SYXLOHCJ.mjs";import{Bb as i,Na as _,Ob as e,Pb as n,Qb as a,_b as m,hb as t,ib as h,ja as q,jc as o,kc as v,oa as g,oc as M,pc as w,qc as O,sc as f}from"./chunk-OQNIVP4F.mjs";import"./chunk-5XUXGTUW.mjs";var H=class p{constructor(s,r){this.modal=s;this.platformId=r;this.isBrowser=y(this.platformId),this.isBrowser&&window.innerWidth<=768&&(this.isCollapsed=!0)}authService=q(D);isCollapsed=!1;userName="Administrateur";profilePhoto="/assets/images/default-avatar.png";currentUser=null;isBrowser;userSubscription;ngOnInit(){if(console.log("\u{1F7E2} ngOnInit: Initialisation du composant admin"),this.userSubscription=this.authService.currentUser$.subscribe(s=>{console.log("\u{1F504} currentUser$ \xE9mis:",s),this.currentUser=s,this.updateUserName(),this.updateProfilePhoto()}),this.currentUser=this.authService.getCurrentUser(),console.log("\u{1F464} Utilisateur initial:",this.currentUser),!this.currentUser&&this.isBrowser){console.log("\u26A0\uFE0F Aucun utilisateur, tentative de r\xE9cup\xE9ration du profil");let s=JSON.parse(localStorage.getItem("user")||"{}")?.id_utilisateur;s?this.authService.getUserProfile(s).subscribe({next:r=>{console.log("\u2705 Profil r\xE9cup\xE9r\xE9:",r.data),this.currentUser=r.data,this.authService.updateCurrentUser(r.data),this.updateUserName(),this.updateProfilePhoto()},error:r=>{console.error("\u274C Erreur r\xE9cup\xE9ration profil:",r)}}):console.warn("\u26A0\uFE0F Aucun userId dans localStorage")}else this.updateUserName(),this.updateProfilePhoto()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}updateUserName(){this.currentUser?(this.userName=`${this.currentUser.prenom} ${this.currentUser.nom}`.trim()||this.currentUser.prenom||"Administrateur",console.log("\u270D\uFE0F Nom utilisateur mis \xE0 jour:",this.userName)):(this.userName="Administrateur",console.log("\u270D\uFE0F Nom utilisateur par d\xE9faut: Aucun utilisateur"))}updateProfilePhoto(){console.log("\u{1F5BC}\uFE0F updateProfilePhoto: V\xE9rification des conditions",{currentUser:!!this.currentUser,photoProfil:!!this.currentUser?.photo_profil,cheminFichier:this.currentUser?.photo_profil?.chemin_fichier,storageUrl:d.storageUrl}),this.currentUser?.photo_profil?.chemin_fichier&&d.storageUrl?(this.profilePhoto=`${d.storageUrl}/${this.currentUser.photo_profil.chemin_fichier}`,console.log("\u2705 URL photo de profil d\xE9finie:",this.profilePhoto)):(this.profilePhoto="/assets/images/default-avatar.png",console.log("\u26A0\uFE0F Avatar par d\xE9faut utilis\xE9. Raison:",{hasCurrentUser:!!this.currentUser,hasPhotoProfil:!!this.currentUser?.photo_profil,hasCheminFichier:!!this.currentUser?.photo_profil?.chemin_fichier,hasStorageUrl:!!d.storageUrl}))}onImageError(s){console.error("\u274C Image non charg\xE9e:",this.profilePhoto),this.profilePhoto="/assets/images/default-avatar.png",console.log("\u{1F519} Retour \xE0 l'avatar par d\xE9faut")}showLogoutConfirm(){this.modal.confirm({nzTitle:"Confirmation",nzContent:`Voulez-vous vous d\xE9connecter, ${this.userName} ?`,nzOkText:"Oui",nzCancelText:"Non",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>this.logout()})}logout(){this.authService.manualLogout()}static \u0275fac=function(r){return new(r||p)(h($),h(_))};static \u0275cmp=g({type:p,selectors:[["app-admin-dashboard"]],standalone:!0,features:[f],decls:71,vars:21,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsedChange","nzCollapsed","nzTrigger"],[1,"sidebar-logo"],["nzIcon","user",1,"header-avatar",3,"nzSrc"],["nz-tooltip","",1,"header-username",2,"margin-left","10px",3,"nzTooltipTitle"],["nz-menu","","nzTheme","dark","nzMode","inline"],["nz-menu-item","","routerLink","/dashboard/admin/details/home-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","appstore"],["nz-menu-item","","routerLink","/dashboard/admin/details/terrains","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","area-chart"],["nz-submenu","","nzTitle","Souscriptions","nzIcon","user"],["nz-menu-item","","routerLink","/dashboard/admin/details/souscription-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-menu-item","","routerLink","/dashboard/admin/details/create-souscription-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-menu-item","","routerLink","/dashboard/admin/details/all-subscription-requests-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-menu-item","","routerLink","/dashboard/admin/details/new-payment-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","money-collect"],["nz-menu-item","","routerLink","/dashboard/admin/details/complaints-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","exclamation-circle"],["nz-menu-item","","routerLink","/dashboard/admin/details/documents-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","file-text"],["nz-submenu","","nzTitle","\xC9v\xE9nements","nzIcon","calendar"],["nz-menu-item","","routerLink","/dashboard/admin/details/event-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-menu-item","","routerLink","/dashboard/admin/details/new-event-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-menu-item","","routerLink","/dashboard/admin/details/rewards-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","gift"],["nz-submenu","","nzTitle","Param\xE8tres","nzIcon","setting"],["nz-menu-item","","routerLink","/dashboard/admin/details/profile-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-menu-item","","routerLink","/dashboard/admin/details/users-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-menu-item","","routerLink","/dashboard/admin/details/new-user-admin","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-menu-item","","nz-tooltip","","nzTooltipPlacement","right",3,"click","nzTooltipTitle"],["nz-icon","","nzType","logout"],[1,"main-layout"],[1,"app-header"],[1,"header-left"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],[1,"header-right"],[1,"description"],["nz-tooltip","D\xE9connexion",1,"logout-icon-btn",3,"click"],["nz-icon","","nzType","logout","nzTheme","outline"],[1,"inner-content"]],template:function(r,l){r&1&&(e(0,"nz-layout",0)(1,"nz-sider",1),O("nzCollapsedChange",function(u){return w(l.isCollapsed,u)||(l.isCollapsed=u),u}),e(2,"div",2),a(3,"nz-avatar",3),e(4,"span",4),o(5),n()(),e(6,"ul",5)(7,"li",6),a(8,"span",7),e(9,"span"),o(10,"Vue d'ensemble"),n()(),e(11,"li",8),a(12,"span",9),e(13,"span"),o(14,"Terrains"),n()(),e(15,"li",10)(16,"ul")(17,"li",11),o(18," Souscripteurs "),n(),e(19,"li",12),o(20," Nouvelle souscription "),n(),e(21,"li",13),o(22," Demandes de souscription "),n()()(),e(23,"li",14),a(24,"span",15),e(25,"span"),o(26,"Paiements"),n()(),e(27,"li",16),a(28,"span",17),e(29,"span"),o(30,"R\xE9clamations"),n()(),e(31,"li",18),a(32,"span",19),e(33,"span"),o(34," Documents"),n()(),e(35,"li",20)(36,"ul")(37,"li",21),o(38," \xC9v\xE9nements "),n(),e(39,"li",22),o(40," Nouvel \xE9v\xE9nement "),n()()(),e(41,"li",23),a(42,"span",24),e(43,"span"),o(44,"R\xE9compenses"),n()(),e(45,"li",25)(46,"ul")(47,"li",26),o(48," Profil "),n(),e(49,"li",27),o(50," Utilisateurs "),n(),e(51,"li",28),o(52," Nouvel utilisateur "),n()()(),e(53,"li",29),m("click",function(){return l.showLogoutConfirm()}),a(54,"span",30),e(55,"span"),o(56,"D\xE9connexion"),n()()()(),e(57,"nz-layout",31)(58,"nz-header")(59,"div",32)(60,"div",33)(61,"span",34),m("click",function(){return l.isCollapsed=!l.isCollapsed}),a(62,"span",35),n()(),e(63,"div",36)(64,"span",37),o(65,"Coordination syndicale du CHU d'Angr\xE9"),n(),e(66,"button",38),m("click",function(){return l.showLogoutConfirm()}),a(67,"span",39),n()()()(),e(68,"nz-content")(69,"div",40),a(70,"router-outlet"),n()()()()),r&2&&(t(),M("nzCollapsed",l.isCollapsed),i("nzTrigger",null),t(2),i("nzSrc",l.profilePhoto),t(),i("nzTooltipTitle",l.userName),t(),v(l.userName),t(2),i("nzTooltipTitle","Vue d'ensemble"),t(4),i("nzTooltipTitle","Terrains"),t(6),i("nzTooltipTitle","Toutes les souscriptions"),t(2),i("nzTooltipTitle","Nouvelle souscription"),t(2),i("nzTooltipTitle","Toutes les demandes de souscription"),t(2),i("nzTooltipTitle","Paiements"),t(4),i("nzTooltipTitle","R\xE9clamations"),t(4),i("nzTooltipTitle","Documents"),t(6),i("nzTooltipTitle","\xC9v\xE9nements"),t(2),i("nzTooltipTitle","Nouvel \xE9v\xE9nement"),t(2),i("nzTooltipTitle","R\xE9compenses"),t(6),i("nzTooltipTitle","Profil"),t(2),i("nzTooltipTitle","Utilisateurs"),t(2),i("nzTooltipTitle","Nouvel utilisateur"),t(2),i("nzTooltipTitle","D\xE9connexion"),t(9),i("nzType",l.isCollapsed?"menu-unfold":"menu-fold"))},dependencies:[x,P,A,E,N,L,C,U,S,G,z,k,T,b,j,R,F,B,W],styles:["[_nghost-%COMP%]{display:block;height:100vh;overflow:hidden}.app-layout[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;flex-direction:row}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:1000;min-height:100vh;box-shadow:2px 0 6px #00152959;overflow-y:auto;overflow-x:hidden;background:#001529;transition:width .2s,min-width .2s,max-width .2s}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding:0 24px;overflow:hidden;background:#001529;transition:all .3s;display:flex;align-items:center;white-space:nowrap}.sidebar-logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;color:#fff;text-decoration:none}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle;flex-shrink:0}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 12px;color:#fff;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%]{padding:0 16px}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{opacity:0;display:inline-block;width:0;overflow:hidden}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .header-username[_ngcontent-%COMP%]{opacity:0;width:0;overflow:hidden}.main-layout[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;width:100%;min-width:0}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:100;flex-shrink:0;background:#fff;position:sticky;top:0}.app-header[_ngcontent-%COMP%]{height:64px;padding:0 24px;background:#fff;box-shadow:0 1px 4px #00152914;display:flex;align-items:center;justify-content:space-between;width:100%}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.description[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#1e3a8a;margin-right:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}@media (max-width: 768px){.description[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;margin-right:8px;max-width:200px}}.header-trigger[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:color .3s;height:64px;margin-left:-12px}.trigger[_ngcontent-%COMP%]{font-size:20px;padding:20px 12px;cursor:pointer;transition:color .3s;display:flex;align-items:center;justify-content:center}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.header-username[_ngcontent-%COMP%]{font-weight:600;color:#fff;margin:0;font-size:1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1;max-width:150px}.header-avatar[_ngcontent-%COMP%]{width:36px!important;height:36px!important;cursor:pointer;flex-shrink:0}.logout-icon-btn[_ngcontent-%COMP%]{background:none!important;border:none!important;box-shadow:none!important;padding:8px 12px!important;height:40px!important;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;border-radius:4px;transition:all .3s}.logout-icon-btn[_ngcontent-%COMP%]:hover{background:#0000000a!important}.logout-icon-btn[_ngcontent-%COMP%]   span[nz-icon][_ngcontent-%COMP%]{font-size:20px!important;color:#1e3a8a;transition:color .2s}.logout-icon-btn[_ngcontent-%COMP%]:hover   span[nz-icon][_ngcontent-%COMP%]{color:#ff4d4f!important}nz-content[_ngcontent-%COMP%]{flex:1;overflow:auto;background:#f0f2f5}.inner-content[_ngcontent-%COMP%]{padding:24px;min-height:calc(100vh - 64px);background:#f0f2f5;width:100%;box-sizing:border-box}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]{padding:0 16px!important}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.anticon){opacity:0;width:0;overflow:hidden}.ant-layout[_ngcontent-%COMP%], .ant-layout-content[_ngcontent-%COMP%]{min-width:0}.ant-layout-header[_ngcontent-%COMP%]{height:auto!important;line-height:normal!important;padding:0!important}.ant-layout-sider[_ngcontent-%COMP%]{transition:all .2s}.menu-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.menu-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.menu-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a}@media (max-width: 768px){.app-header[_ngcontent-%COMP%]{padding:0 16px;height:56px}.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed)   .header-username[_ngcontent-%COMP%]{max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-trigger[_ngcontent-%COMP%]{height:56px;margin-left:-8px}.trigger[_ngcontent-%COMP%]{font-size:18px;padding:16px 10px}.inner-content[_ngcontent-%COMP%]{padding:16px}.header-username[_ngcontent-%COMP%]{font-size:.9rem;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-avatar[_ngcontent-%COMP%]{width:32px!important;height:32px!important}}@media (max-width: 480px){.inner-content[_ngcontent-%COMP%]{padding:8px}.app-header[_ngcontent-%COMP%]{padding:0 8px;height:48px}.header-trigger[_ngcontent-%COMP%]{height:48px;margin-left:-4px}.trigger[_ngcontent-%COMP%]{font-size:16px;padding:12px 6px}.header-username[_ngcontent-%COMP%]{font-size:.7rem;max-width:none;white-space:nowrap}.header-avatar[_ngcontent-%COMP%]{width:24px!important;height:24px!important}.sidebar-logo[_ngcontent-%COMP%]{padding:0 12px;height:44px}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:20px}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:9px;margin-left:6px}}@media (max-width: 360px){.header-username[_ngcontent-%COMP%]{font-size:.65rem;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.trigger[_ngcontent-%COMP%]{padding:12px 4px}.header-avatar[_ngcontent-%COMP%]{width:22px!important;height:22px!important}.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed){width:140px!important;min-width:140px!important;max-width:140px!important;flex:0 0 140px!important}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8px}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:18px}}.ant-layout-sider[_ngcontent-%COMP%], .ant-layout-sider-collapsed[_ngcontent-%COMP%]{position:relative!important;transition:all .2s}@media (max-width: 480px){.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed){width:160px!important;min-width:160px!important;max-width:160px!important;flex:0 0 160px!important}.ant-layout-sider-collapsed[_ngcontent-%COMP%]{width:0!important;min-width:0!important;max-width:0!important;flex:0 0 0!important;overflow:hidden!important}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .ant-menu[_ngcontent-%COMP%], .ant-layout-sider-collapsed[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%]{display:none}}@media (min-width: 481px) and (max-width: 768px){.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed){width:200px!important;min-width:200px!important;max-width:200px!important;flex:0 0 200px!important}.ant-layout-sider-collapsed[_ngcontent-%COMP%]{width:80px!important;min-width:80px!important;max-width:80px!important;flex:0 0 80px!important}}"]})};var V=class p{constructor(s,r,l){this.authService=s;this.modal=r;this.platformId=l;this.isBrowser=y(this.platformId),this.isBrowser&&window.innerWidth<=768&&(this.isCollapsed=!0)}isCollapsed=!1;userName="Utilisateur";profilePhoto="/assets/images/default-avatar.png";currentUser=null;isBrowser;userSubscription;ngOnInit(){if(console.log("\u{1F7E2} ngOnInit: Initialisation du composant"),this.userSubscription=this.authService.currentUser$.subscribe(s=>{console.log("\u{1F504} currentUser$ \xE9mis:",s),this.currentUser=s,this.updateUserName(),this.updateProfilePhoto()}),this.currentUser=this.authService.getCurrentUser(),console.log("\u{1F464} Utilisateur initial:",this.currentUser),!this.currentUser&&this.isBrowser){console.log("\u26A0\uFE0F Aucun utilisateur, tentative de r\xE9cup\xE9ration du profil");let s=JSON.parse(localStorage.getItem("user")||"{}")?.id_utilisateur;s?this.authService.getUserProfile(s).subscribe({next:r=>{console.log("\u2705 Profil r\xE9cup\xE9r\xE9:",r.data),this.currentUser=r.data,this.authService.updateCurrentUser(r.data),this.updateUserName(),this.updateProfilePhoto()},error:r=>{console.error("\u274C Erreur r\xE9cup\xE9ration profil:",r)}}):console.warn("\u26A0\uFE0F Aucun userId dans localStorage")}else this.updateUserName(),this.updateProfilePhoto()}ngOnDestroy(){this.userSubscription&&(this.userSubscription.unsubscribe(),console.log("\u{1F51A} ngOnDestroy: D\xE9sabonnement de currentUser$"))}updateUserName(){this.currentUser?(this.userName=`${this.currentUser.prenom} ${this.currentUser.nom}`.trim()||this.currentUser.prenom||"Utilisateur",console.log("\u270D\uFE0F Nom utilisateur mis \xE0 jour:",this.userName)):(this.userName="Utilisateur",console.log("\u270D\uFE0F Nom utilisateur par d\xE9faut: Aucun utilisateur"))}updateProfilePhoto(){console.log("\u{1F5BC}\uFE0F updateProfilePhoto: V\xE9rification des conditions",{currentUser:!!this.currentUser,photoProfil:!!this.currentUser?.photo_profil,cheminFichier:this.currentUser?.photo_profil?.chemin_fichier,storageUrl:d.storageUrl}),this.currentUser?.photo_profil?.chemin_fichier&&d.storageUrl?(this.profilePhoto=`${d.storageUrl}/${this.currentUser.photo_profil.chemin_fichier}`,console.log("\u2705 URL photo de profil d\xE9finie:",this.profilePhoto)):(this.profilePhoto="/assets/images/default-avatar.png",console.log("\u26A0\uFE0F Avatar par d\xE9faut utilis\xE9. Raison:",{hasCurrentUser:!!this.currentUser,hasPhotoProfil:!!this.currentUser?.photo_profil,hasCheminFichier:!!this.currentUser?.photo_profil?.chemin_fichier,hasStorageUrl:!!d.storageUrl}))}onImageError(s){console.error("\uFFFD \u274C Image non charg\xE9e:",this.profilePhoto),this.profilePhoto="/assets/images/default-avatar.png",console.log("\u{1F519} Retour \xE0 l\u2019avatar par d\xE9faut")}showLogoutConfirm(){this.modal.confirm({nzTitle:"Confirmation",nzContent:`Voulez-vous vous d\xE9connecter, ${this.userName} ?`,nzOkText:"Oui",nzCancelText:"Non",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>this.logout()})}logout(){console.log("\u{1F6AA} D\xE9connexion initi\xE9e"),this.authService.manualLogout()}static \u0275fac=function(r){return new(r||p)(h(D),h($),h(_))};static \u0275cmp=g({type:p,selectors:[["app-user-dashboard"]],standalone:!0,features:[f],decls:57,vars:15,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsedChange","nzCollapsed","nzTrigger"],[1,"sidebar-logo"],["nzIcon","user",1,"header-avatar",3,"nzSrc"],["nz-tooltip","",1,"header-username",2,"margin-left","10px",3,"nzTooltipTitle"],["nz-menu","","nzTheme","dark","nzMode","inline"],["nz-menu-item","","routerLink","/dashboard/user/details/welcome","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","appstore"],["nz-menu-item","","routerLink","/dashboard/user/details/subscription","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","user"],["nz-menu-item","","routerLink","/dashboard/user/details/paiements","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","dollar"],["nz-menu-item","","routerLink","/dashboard/user/details/reclamations","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","exclamation-circle"],["nz-menu-item","","routerLink","/dashboard/user/details/documents","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","file-text"],["nz-menu-item","","routerLink","/dashboard/user/details/evenements","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","calendar"],["nz-menu-item","","routerLink","/dashboard/user/details/recompenses","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","gift"],["nz-menu-item","","routerLink","/dashboard/user/details/parametre","routerLinkActive","ant-menu-item-selected","nz-tooltip","","nzTooltipPlacement","right",3,"nzTooltipTitle"],["nz-icon","","nzType","setting"],["nz-menu-item","","nz-tooltip","","nzTooltipPlacement","right",3,"click","nzTooltipTitle"],["nz-icon","","nzType","logout"],[1,"main-layout"],[1,"app-header"],[1,"header-left"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],[1,"header-right"],[1,"description"],["nz-tooltip","D\xE9connexion",1,"logout-icon-btn",3,"click"],["nz-icon","","nzType","logout","nzTheme","outline"],[1,"inner-content"]],template:function(r,l){r&1&&(e(0,"nz-layout",0)(1,"nz-sider",1),O("nzCollapsedChange",function(u){return w(l.isCollapsed,u)||(l.isCollapsed=u),u}),e(2,"div",2),a(3,"nz-avatar",3),e(4,"span",4),o(5),n()(),e(6,"ul",5)(7,"li",6),a(8,"span",7),e(9,"span"),o(10,"Vue d'ensemble"),n()(),e(11,"li",8),a(12,"span",9),e(13,"span"),o(14,"Mes Souscriptions"),n()(),e(15,"li",10),a(16,"span",11),e(17,"span"),o(18,"Paiements"),n()(),e(19,"li",12),a(20,"span",13),e(21,"span"),o(22,"R\xE9clamations"),n()(),e(23,"li",14),a(24,"span",15),e(25,"span"),o(26,"Mes Documents"),n()(),e(27,"li",16),a(28,"span",17),e(29,"span"),o(30,"\xC9v\xE9nements"),n()(),e(31,"li",18),a(32,"span",19),e(33,"span"),o(34,"Mes R\xE9compenses"),n()(),e(35,"li",20),a(36,"span",21),e(37,"span"),o(38,"Param\xE8tre"),n()(),e(39,"li",22),m("click",function(){return l.showLogoutConfirm()}),a(40,"span",23),e(41,"span"),o(42,"D\xE9connexion"),n()()()(),e(43,"nz-layout",24)(44,"nz-header")(45,"div",25)(46,"div",26)(47,"span",27),m("click",function(){return l.isCollapsed=!l.isCollapsed}),a(48,"span",28),n()(),e(49,"div",29)(50,"span",30),o(51,"Coordination syndicale du CHU d'Angr\xE9"),n(),e(52,"button",31),m("click",function(){return l.showLogoutConfirm()}),a(53,"span",32),n()()()(),e(54,"nz-content")(55,"div",33),a(56,"router-outlet"),n()()()()),r&2&&(t(),M("nzCollapsed",l.isCollapsed),i("nzTrigger",null),t(2),i("nzSrc",l.profilePhoto),t(),i("nzTooltipTitle",l.userName),t(),v(l.userName),t(2),i("nzTooltipTitle","Vue d'ensemble"),t(4),i("nzTooltipTitle","Mes Souscriptions"),t(4),i("nzTooltipTitle","Paiements"),t(4),i("nzTooltipTitle","R\xE9clamations"),t(4),i("nzTooltipTitle","Mes Documents"),t(4),i("nzTooltipTitle","Suivi Projet"),t(4),i("nzTooltipTitle","Mes R\xE9compenses"),t(4),i("nzTooltipTitle","Param\xE8tre"),t(4),i("nzTooltipTitle","D\xE9connexion"),t(9),i("nzType",l.isCollapsed?"menu-unfold":"menu-fold"))},dependencies:[x,b,T,P,A,E,N,L,C,U,S,z,k,F,B,W,j,R],styles:["[_nghost-%COMP%]{display:block;height:100vh;overflow:hidden}.app-layout[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;flex-direction:row}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:1000;min-height:100vh;box-shadow:2px 0 6px #00152959;overflow-y:auto;overflow-x:hidden;background:#001529;transition:width .2s,min-width .2s,max-width .2s}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding:0 24px;overflow:hidden;background:#001529;transition:all .3s;display:flex;align-items:center;white-space:nowrap}.sidebar-logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;color:#fff;text-decoration:none}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle;flex-shrink:0}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 12px;color:#fff;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%]{padding:0 16px}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{opacity:0;display:inline-block;width:0;overflow:hidden}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .header-username[_ngcontent-%COMP%]{opacity:0;width:0;overflow:hidden}.main-layout[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;width:100%;min-width:0}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:100;flex-shrink:0;background:#fff;position:sticky;top:0}.app-header[_ngcontent-%COMP%]{height:64px;padding:0 24px;background:#fff;box-shadow:0 1px 4px #00152914;display:flex;align-items:center;justify-content:space-between;width:100%}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.description[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#1e3a8a;margin-right:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}@media (max-width: 768px){.description[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;margin-right:8px;max-width:200px}}.header-trigger[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:color .3s;height:64px;margin-left:-12px}.trigger[_ngcontent-%COMP%]{font-size:20px;padding:20px 12px;cursor:pointer;transition:color .3s;display:flex;align-items:center;justify-content:center}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.header-username[_ngcontent-%COMP%]{font-weight:600;color:#fff;margin:0;font-size:1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1;max-width:150px}.header-avatar[_ngcontent-%COMP%]{width:36px!important;height:36px!important;cursor:pointer;flex-shrink:0}.logout-icon-btn[_ngcontent-%COMP%]{background:none!important;border:none!important;box-shadow:none!important;padding:8px 12px!important;height:40px!important;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;border-radius:4px;transition:all .3s}.logout-icon-btn[_ngcontent-%COMP%]:hover{background:#0000000a!important}.logout-icon-btn[_ngcontent-%COMP%]   span[nz-icon][_ngcontent-%COMP%]{font-size:20px!important;color:#1e3a8a;transition:color .2s}.logout-icon-btn[_ngcontent-%COMP%]:hover   span[nz-icon][_ngcontent-%COMP%]{color:#ff4d4f!important}nz-content[_ngcontent-%COMP%]{flex:1;overflow:auto;background:#f0f2f5}.inner-content[_ngcontent-%COMP%]{padding:24px;min-height:calc(100vh - 64px);background:#f0f2f5;width:100%;box-sizing:border-box}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]{padding:0 16px!important}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.anticon){opacity:0;width:0;overflow:hidden}.ant-layout[_ngcontent-%COMP%], .ant-layout-content[_ngcontent-%COMP%]{min-width:0}.ant-layout-header[_ngcontent-%COMP%]{height:auto!important;line-height:normal!important;padding:0!important}.ant-layout-sider[_ngcontent-%COMP%]{transition:all .2s}.menu-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.menu-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.menu-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a}@media (max-width: 768px){.app-header[_ngcontent-%COMP%]{padding:0 16px;height:56px}.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed)   .header-username[_ngcontent-%COMP%]{max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-trigger[_ngcontent-%COMP%]{height:56px;margin-left:-8px}.trigger[_ngcontent-%COMP%]{font-size:18px;padding:16px 10px}.inner-content[_ngcontent-%COMP%]{padding:16px}.header-left[_ngcontent-%COMP%]{gap:16px}.header-username[_ngcontent-%COMP%]{font-size:.9rem;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-avatar[_ngcontent-%COMP%]{width:32px!important;height:32px!important}.logout-icon-btn[_ngcontent-%COMP%]{padding:6px 10px!important;height:36px!important}.logout-icon-btn[_ngcontent-%COMP%]   span[nz-icon][_ngcontent-%COMP%]{font-size:18px!important}}@media (max-width: 480px){.inner-content[_ngcontent-%COMP%]{padding:8px}.app-header[_ngcontent-%COMP%]{padding:0 8px;height:48px}.header-right[_ngcontent-%COMP%]{gap:6px}.header-trigger[_ngcontent-%COMP%]{height:48px;margin-left:-4px}.trigger[_ngcontent-%COMP%]{font-size:16px;padding:12px 6px}.header-username[_ngcontent-%COMP%]{font-size:.7rem;max-width:none;white-space:nowrap}.header-avatar[_ngcontent-%COMP%]{width:24px!important;height:24px!important}.logout-icon-btn[_ngcontent-%COMP%]{padding:4px 6px!important;height:30px!important}.logout-icon-btn[_ngcontent-%COMP%]   span[nz-icon][_ngcontent-%COMP%]{font-size:14px!important}.description[_ngcontent-%COMP%]{font-size:.9rem;margin-right:8px;max-width:none}.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed) ~ .main-layout[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{max-width:120px}.sidebar-logo[_ngcontent-%COMP%]{padding:0 12px;height:44px}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:20px}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:9px;margin-left:6px}.ant-menu-item[_ngcontent-%COMP%]{height:36px!important;line-height:36px!important;font-size:11px!important;padding:0 12px!important}.ant-menu-item[_ngcontent-%COMP%]   .anticon[_ngcontent-%COMP%]{font-size:12px!important;margin-right:6px!important}.ant-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.anticon){display:inline-block;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle}}@media (max-width: 360px){.header-username[_ngcontent-%COMP%]{font-size:.65rem;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed)   .header-username[_ngcontent-%COMP%]{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.trigger[_ngcontent-%COMP%]{padding:12px 4px}.logout-icon-btn[_ngcontent-%COMP%]{padding:3px 4px!important;height:28px!important}.logout-icon-btn[_ngcontent-%COMP%]   span[nz-icon][_ngcontent-%COMP%]{font-size:12px!important}.header-avatar[_ngcontent-%COMP%]{width:22px!important;height:22px!important}.header-right[_ngcontent-%COMP%]{gap:4px}.description[_ngcontent-%COMP%]{font-size:.8rem}.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed) ~ .main-layout[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{max-width:80px}.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed){width:140px!important;min-width:140px!important;max-width:140px!important;flex:0 0 140px!important}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8px}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:18px}.ant-menu-item[_ngcontent-%COMP%]{padding:0 10px!important;height:34px!important;line-height:34px!important;font-size:10px!important}.ant-menu-item[_ngcontent-%COMP%]   .anticon[_ngcontent-%COMP%]{font-size:11px!important;margin-right:5px!important}.ant-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.anticon){max-width:85px}}.ant-layout-sider[_ngcontent-%COMP%], .ant-layout-sider-collapsed[_ngcontent-%COMP%]{position:relative!important;transition:all .2s}@media (max-width: 480px){.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed){width:160px!important;min-width:160px!important;max-width:160px!important;flex:0 0 160px!important}.ant-layout-sider-collapsed[_ngcontent-%COMP%]{width:0!important;min-width:0!important;max-width:0!important;flex:0 0 0!important;overflow:hidden!important}.ant-layout-sider-collapsed[_ngcontent-%COMP%]   .ant-menu[_ngcontent-%COMP%], .ant-layout-sider-collapsed[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%]{display:none}}@media (min-width: 481px) and (max-width: 768px){.ant-layout-sider[_ngcontent-%COMP%]:not(.ant-layout-sider-collapsed){width:200px!important;min-width:200px!important;max-width:200px!important;flex:0 0 200px!important}.ant-layout-sider-collapsed[_ngcontent-%COMP%]{width:80px!important;min-width:80px!important;max-width:80px!important;flex:0 0 80px!important}}"]})};var J=class p{isCollapsed=!1;static \u0275fac=function(r){return new(r||p)};static \u0275cmp=g({type:p,selectors:[["app-dashboard"]],standalone:!0,features:[f],decls:0,vars:0,template:function(r,l){},dependencies:[x,P,C,z]})};var Be=[{path:"",component:J,canActivate:[I]},{path:"admin",component:H,canActivate:[I],children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",loadChildren:()=>import("./chunk-QTALEBFH.mjs").then(p=>p.DETAILS_ADMIN_ROUTES)}]},{path:"user",component:V,canActivate:[I],children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",loadChildren:()=>import("./chunk-UZN2ZN7R.mjs").then(p=>p.DETAILS_USER_ROUTES)}]}];export{Be as DASHBOARD_ROUTES};
