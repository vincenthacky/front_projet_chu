import './polyfills.server.mjs';
import{b as wt}from"./chunk-B77PDVCP.mjs";import{e as Y}from"./chunk-GMAFPMIL.mjs";import{i as gt,j as mt,l as ut,n as ft,o as _t,p as bt}from"./chunk-RBL44AOB.mjs";import"./chunk-54RGTKAT.mjs";import{a as X,b as Z,c as tt,d as et}from"./chunk-5YB4IETY.mjs";import{a as pt,b as dt}from"./chunk-CAH7IWXG.mjs";import"./chunk-VBZFBZOA.mjs";import{a as xt,b as ht}from"./chunk-WQB3OCDO.mjs";import"./chunk-VDKS4F7J.mjs";import{e as St}from"./chunk-MVD3OYMU.mjs";import"./chunk-TPOFWVII.mjs";import{c as vt}from"./chunk-3ECRGHAG.mjs";import{e as yt}from"./chunk-PY2DBSDC.mjs";import{d as Pt}from"./chunk-NPF6PEIT.mjs";import"./chunk-QBUOXPTD.mjs";import{a as Mt}from"./chunk-VKSRSZLT.mjs";import{d as Ot}from"./chunk-XPN6KDZ6.mjs";import{e as Ct}from"./chunk-BZBOIQCX.mjs";import{c as lt}from"./chunk-SWXML3Z3.mjs";import{a as H,b as J,d as Q,f as K}from"./chunk-F2M3OOMJ.mjs";import"./chunk-EKHRI43K.mjs";import"./chunk-TRLQKWDU.mjs";import"./chunk-MEIIEWZO.mjs";import{A as ct,d as nt,g as it,m as ot,s as at,t as rt,u as st}from"./chunk-W7BGEYBY.mjs";import"./chunk-VTN35E7P.mjs";import{H as G}from"./chunk-DXOQ4KLL.mjs";import"./chunk-G6UIES2I.mjs";import"./chunk-CHSZOI33.mjs";import"./chunk-2YQYLHAC.mjs";import"./chunk-LGFZWUQG.mjs";import{e as q}from"./chunk-LI7RJ6PT.mjs";import"./chunk-UXVSRWVF.mjs";import{C as W,t as $,u as L,v as U}from"./chunk-SYXLOHCJ.mjs";import{Aa as b,Bb as d,Cb as A,Cc as B,Db as z,Ga as V,Ob as i,Pb as o,Qb as m,Rb as I,Sb as E,Ub as O,_b as h,ac as g,hb as a,ib as w,ic as N,jc as s,kc as u,lc as f,oa as D,oc as v,pc as S,qc as y,sc as j,tc as R,xb as x,za as _}from"./chunk-OQNIVP4F.mjs";import"./chunk-5XUXGTUW.mjs";var Tt=()=>[10,20,50,100];function kt(c,t){if(c&1&&(i(0,"span",42),s(1),o()),c&2){let e=g();a(),u(e.souscriptionsCount)}}function Ft(c,t){if(c&1&&(i(0,"span",42),s(1),o()),c&2){let e=g();a(),u(e.demandesCount)}}function Dt(c,t){c&1&&(I(0),i(1,"option",43),s(2,"Active"),o(),i(3,"option",44),s(4,"En cours"),o(),i(5,"option",45),s(6,"Termin\xE9e"),o(),i(7,"option",46),s(8,"Suspendue"),o(),i(9,"option",47),s(10,"R\xE9sili\xE9e"),o(),E())}function Vt(c,t){c&1&&(I(0),i(1,"option",48),s(2,"En attente"),o(),i(3,"option",49),s(4,"Approuv\xE9"),o(),i(5,"option",50),s(6,"Rejet\xE9"),o(),E())}function At(c,t){if(c&1&&(i(0,"div",72),s(1),o()),c&2){let e=g().$implicit,n=g();a(),u(n.formatAmount(e.montantPaye))}}function Nt(c,t){if(c&1&&(i(0,"div",66),s(1),o()),c&2){let e=g().$implicit,n=g();a(),u(n.formatDate(e.dateDemande||""))}}function jt(c,t){if(c&1&&(i(0,"div",73),s(1),o()),c&2){let e=g().$implicit,n=g();a(),u(n.formatAmount(e.resteAPayer))}}function Rt(c,t){if(c&1&&(i(0,"div",74),m(1,"i",6),s(2),o()),c&2){let e=g().$implicit;a(),d("ngClass",e.origine==="utilisateur"?"fa-user":"fa-user-shield"),a(),f(" ",e.origine==="utilisateur"?"Utilisateur":"Admin"," ")}}function Bt(c,t){if(c&1&&(i(0,"div",75),m(1,"i",76),s(2),o()),c&2){let e=g().$implicit,n=g();a(2),f(" ",e.statut==="terminee"?"--/--/--":n.formatDate(e.prochainPaiement)," ")}}function $t(c,t){if(c&1&&(i(0,"div",66),m(1,"i",77),s(2),o()),c&2){let e=g().$implicit,n=g();a(2),f(" ",n.formatDate(e.dateCreation||"")," ")}}function Lt(c,t){if(c&1){let e=O();i(0,"button",78),h("click",function(){_(e);let r=g().$implicit,l=g();return b(l.showModal(r))}),m(1,"i",79),i(2,"span",80),s(3,"Voir"),o()()}c&2&&d("nzType","primary")}function Ut(c,t){if(c&1){let e=O();i(0,"button",81),h("click",function(){_(e);let r=g().$implicit,l=g();return b(l.showDemandeInfo(r))}),m(1,"i",82),i(2,"span",80),s(3,"D\xE9tails"),o()()}c&2&&d("nzType","default")}function Wt(c,t){if(c&1&&(i(0,"tr",51)(1,"td",52)(2,"div",53),s(3),o()(),i(4,"td",52)(5,"div",54)(6,"div",55),m(7,"i",56),o(),i(8,"div",57)(9,"h4"),s(10),o(),i(11,"div",58),s(12),o()()()(),i(13,"td",52)(14,"div",59),s(15),o(),i(16,"div",60),m(17,"div",61),o()(),i(18,"td",52),x(19,At,2,1,"div",62)(20,Nt,2,1,"div",63),o(),i(21,"td",52),x(22,jt,2,1,"div",64)(23,Rt,3,2,"div",65),o(),i(24,"td",52)(25,"div",66),s(26),o()(),i(27,"td",52),x(28,Bt,3,1,"div",67)(29,$t,3,1,"div",63),o(),i(30,"td",52)(31,"div",68),m(32,"i",6),s(33),o()(),i(34,"td",52)(35,"div",69),x(36,Lt,4,1,"button",70)(37,Ut,4,1,"button",71),o()()()),c&2){let e=t.$implicit,n=g();a(3),u(e.id),a(7),u(e.terrain),a(2),f("",e.surface,"m\xB2"),a(3),u(n.formatAmount(e.prixTotal)),a(2),A("width",e.progression,"%"),a(2),d("ngIf",n.currentViewMode==="souscriptions"),a(),d("ngIf",n.currentViewMode==="demandes"),a(2),d("ngIf",n.currentViewMode==="souscriptions"),a(),d("ngIf",n.currentViewMode==="demandes"),a(3),u(n.formatDate(e.dateDebut)),a(2),d("ngIf",n.currentViewMode==="souscriptions"),a(),d("ngIf",n.currentViewMode==="demandes"),a(2),d("ngClass",n.getStatusClass(e.statut)),a(),d("ngClass",n.getStatusIcon(e.statut)),a(),f(" ",n.getStatusLabel(e.statut)," "),a(3),d("ngIf",n.currentViewMode==="souscriptions"),a(),d("ngIf",n.currentViewMode==="demandes")}}function qt(c,t){if(c&1&&(i(0,"tr")(1,"td",83)(2,"div",84),m(3,"i",85),i(4,"span",86),s(5),o()()()()),c&2){let e=g();a(5),f(" ",e.currentViewMode==="souscriptions"?"Chargement des souscriptions...":"Chargement des demandes..."," ")}}function Gt(c,t){if(c&1&&(i(0,"tr")(1,"td",87),m(2,"i",88),i(3,"h3"),s(4),o(),i(5,"p"),s(6,"Essayez de modifier vos crit\xE8res de recherche"),o()()()),c&2){let e=g();a(4),u(e.currentViewMode==="souscriptions"?"Aucune souscription trouv\xE9e":"Aucune demande trouv\xE9e")}}function Yt(c,t){}function Ht(c,t){if(c&1&&(i(0,"div",102)(1,"div",103)(2,"div",104),m(3,"i",10),s(4),o(),i(5,"nz-tag",105),s(6),o()(),i(7,"div",106)(8,"div",107)(9,"span",108),s(10,"Terrain:"),o(),i(11,"span",109),s(12),o()(),i(13,"div",107)(14,"span",108),s(15,"Surface:"),o(),i(16,"span",109),s(17),o()(),i(18,"div",107)(19,"span",108),s(20,"Progression:"),o(),i(21,"span",109),s(22),o()()(),i(23,"div",110)(24,"div",111)(25,"span",112),s(26,"Pay\xE9:"),o(),i(27,"span",113),s(28),o()(),i(29,"div",111)(30,"span",112),s(31,"Reste:"),o(),i(32,"span",114),s(33),o()()()()),c&2){let e=g(2);a(4),f(" ",e.selectedSubscriptionId," "),a(),d("nzColor",e.getStatusColor(e.selectedSubscriptionInfo.statut)),a(),f(" ",e.getStatusLabel(e.selectedSubscriptionInfo.statut)," "),a(6),u(e.selectedSubscriptionInfo.terrain),a(5),f("",e.selectedSubscriptionInfo.surface," m\xB2"),a(5),f("",e.selectedSubscriptionInfo.progression.toFixed(2),"%"),a(6),u(e.formatAmount(e.selectedSubscriptionInfo.montantPaye)),a(5),u(e.formatAmount(e.selectedSubscriptionInfo.resteAPayer))}}function Jt(c,t){if(c&1&&(i(0,"div",115),s(1),o()),c&2){let e=g(2);a(),f(" ",e.lastFivePayments.length," ")}}function Qt(c,t){if(c&1&&(i(0,"span",126),s(1),o()),c&2){let e=g(2).$implicit;a(),f(" Mensualit\xE9 #",e.numero_mensualite," ")}}function Kt(c,t){if(c&1&&(i(0,"span",126),s(1),o()),c&2){let e=g(2).$implicit,n=g(3);a(),f(" ",n.formatPaymentMode(e.mode_paiement)," ")}}function Xt(c,t){if(c&1&&(i(0,"nz-tag",127),s(1),o()),c&2){let e=g(2).$implicit,n=g(3);d("nzColor",n.getPaymentStatusColor(e.statut_versement)),a(),f(" ",n.formatPaymentStatus(e.statut_versement)," ")}}function Zt(c,t){if(c&1&&(i(0,"div",123),x(1,Qt,2,1,"span",124)(2,Kt,2,1,"span",124)(3,Xt,2,2,"nz-tag",125),o()),c&2){let e=g().$implicit;a(),d("ngIf",e.numero_mensualite),a(),d("ngIf",e.mode_paiement),a(),d("ngIf",e.statut_versement)}}function te(c,t){if(c&1&&(i(0,"div",118)(1,"div",119)(2,"div",120),m(3,"i",76),s(4),o(),i(5,"div",121),s(6),o()(),x(7,Zt,4,3,"div",122),o()),c&2){let e=t.$implicit,n=g(3);a(4),f(" ",e.date," "),a(2),f(" ",n.formatAmount(e.amount)," "),a(),d("ngIf",e.numero_mensualite||e.mode_paiement)}}function ee(c,t){if(c&1&&(i(0,"div",116),x(1,te,8,3,"div",117),o()),c&2){let e=g(2);a(),d("ngForOf",e.lastFivePayments)("ngForTrackBy",e.trackByPayment)}}function ne(c,t){c&1&&(i(0,"div",128),m(1,"i",82),i(2,"span"),s(3,"Aucun paiement effectu\xE9"),o()())}function ie(c,t){if(c&1){let e=O();I(0),i(1,"div",89),x(2,Ht,34,8,"div",90),i(3,"div",91)(4,"div",92)(5,"div",93),m(6,"i",94),s(7," Derniers paiements "),o(),x(8,Jt,2,1,"div",95),o(),x(9,ee,2,2,"div",96)(10,ne,4,0,"div",97),o(),i(11,"div",98)(12,"button",99),h("click",function(){_(e);let r=g();return b(r.handleCancel())}),m(13,"i",100),s(14," Fermer "),o(),i(15,"button",101),h("click",function(){_(e);let r=g();return b(r.handleOk())}),m(16,"i",79),s(17," D\xE9tails "),o()()(),E()}if(c&2){let e=g();a(2),d("ngIf",e.selectedSubscriptionInfo),a(6),d("ngIf",e.lastFivePayments.length>0),a(),d("ngIf",e.lastFivePayments.length>0),a(),d("ngIf",e.lastFivePayments.length===0)}}var zt=class c{constructor(t,e,n){this.router=t;this.modal=e;this.souscriptionService=n}placeholder="S\xE9lectionner une souscription";allowClear=!0;disabled=!1;userId;subscriptionSelected=new V;subscriptions=[];demandesSouscriptions=[];filteredSubscriptions=[];currentViewMode="souscriptions";souscriptionsCount=0;demandesCount=0;searchTerm="";statusFilter="";terrainFilter="";currentPage=1;itemsPerPage=10;totalItems=0;loading=!1;isVisible=!1;selectedSubscriptionId=null;selectedSubscriptionInfo=null;lastFivePayments=[];globalStats={totalAmount:0,totalPaid:0,totalRemaining:0,totalSubscriptions:0};ngOnInit(){console.log("\u{1F680} Initialisation du composant subscription"),this.loadSubscriptions(),this.loadDemandesSouscriptions(),this.loadGlobalStats(),typeof window<"u"&&(window.debugSubscriptions=()=>this.debugCurrentState(),console.log("\u{1F6E0}\uFE0F M\xE9thode de debug disponible: debugSubscriptions()"))}debugCurrentState(){console.log("\u{1F41B} === DEBUG STATE COMPLET ==="),console.log("\u{1F4CA} Filtres actuels:",{searchTerm:this.searchTerm,statusFilter:this.statusFilter,terrainFilter:this.terrainFilter}),console.log("\u{1F4CB} Souscriptions brutes:",this.subscriptions.length),console.log("\u{1F527} Souscriptions filtr\xE9es:",this.filteredSubscriptions.length),console.log("\u{1F4C4} Pagination:",{currentPage:this.currentPage,itemsPerPage:this.itemsPerPage,totalItems:this.totalItems}),console.log("\u{1F4C8} Stats globales:",this.globalStats),console.log("\u23F3 Loading:",this.loading),this.subscriptions.length>0&&(console.log("\u{1F50D} \xC9chantillon de donn\xE9es mapp\xE9es:"),this.subscriptions.slice(0,2).forEach((t,e)=>{console.log(`   ${e+1}.`,{id:t.id,terrain:t.terrain,surface:t.surface,prixTotal:t.prixTotal,montantPaye:t.montantPaye,resteAPayer:t.resteAPayer,prochainPaiement:t.prochainPaiement,statut:t.statut,progression:t.progression,payments:t.payments})})),console.log("\u{1F41B} === FIN DEBUG ===")}loadGlobalStats(){this.souscriptionService.getMesSouscriptions({per_page:1e3}).subscribe({next:t=>{let e=t.data,n=this.mapApiDataToSubscriptions(e);this.globalStats={totalAmount:n.reduce((r,l)=>r+l.prixTotal,0),totalPaid:n.reduce((r,l)=>r+l.montantPaye,0),totalRemaining:n.reduce((r,l)=>r+l.resteAPayer,0),totalSubscriptions:t.pagination.total},console.log("\u{1F4CA} Statistiques globales calcul\xE9es:",this.globalStats)},error:t=>{console.error("Erreur lors du chargement des statistiques:",t)}})}loadDemandesSouscriptions(){console.log("\u{1F680} === CHARGEMENT DEMANDES SOUSCRIPTIONS ===");let t={page:this.currentPage,per_page:this.itemsPerPage};this.statusFilter&&(t.statut_dynamique=this.statusFilter),this.searchTerm&&(t.search=this.searchTerm),this.terrainFilter&&(t.superficie=this.terrainFilter),this.souscriptionService.getMesDemandesSouscriptions(t).subscribe({next:e=>{console.log("\u{1F4E5} R\xE9ponse API demandes:",e);let n=e.data.map(r=>this.mapDemandeToSubscription(r));this.demandesSouscriptions=n,this.demandesCount=e.pagination.total,console.log("\u2705 Demandes charg\xE9es:",n.length)},error:e=>{console.error("\u274C Erreur chargement demandes:",e),this.demandesSouscriptions=[],this.demandesCount=0}})}mapDemandeToSubscription(t){return{id:`DEM-${t.id_souscription}`,terrain:t.terrain?.libelle||"Terrain inconnu",surface:t.terrain?.superficie||"0",prixTotal:parseFloat(t.montant_total_souscrit||"0"),montantPaye:0,resteAPayer:parseFloat(t.montant_total_souscrit||"0"),dateDebut:t.date_debut_paiement||t.date_souscription,prochainPaiement:t.date_prochain||"",dateDemande:t.date_souscription,dateCreation:t.created_at,origine:t.origine||"utilisateur",statut:t.statut_dynamique,progression:0,payments:[]}}switchViewMode(t){console.log("\u{1F504} Basculement vers:",t),this.currentViewMode=t,this.resetFilters(),this.currentPage=1,t==="souscriptions"?(this.filteredSubscriptions=[...this.subscriptions],this.totalItems=this.souscriptionsCount):(this.filteredSubscriptions=[...this.demandesSouscriptions],this.totalItems=this.demandesCount),this.updatePaginatedData()}loadSubscriptions(){console.log("\u{1F680} === CHARGEMENT SOUSCRIPTIONS ==="),this.loading=!0;let t={page:this.currentPage,per_page:this.itemsPerPage};this.statusFilter&&(t.statut=this.statusFilter,console.log("\u2705 Ajout filtre statut API:",t.statut)),this.searchTerm&&(t.search=this.searchTerm,console.log("\u2705 Ajout filtre recherche API:",t.search)),this.terrainFilter&&(t.superficie=this.terrainFilter,console.log("\u2705 Ajout filtre superficie API:",t.superficie)),console.log("\u{1F4E4} Param\xE8tres envoy\xE9s \xE0 l'API:",t),this.souscriptionService.getMesSouscriptions(t).subscribe({next:e=>{console.log("\u{1F4E5} R\xE9ponse brute API:",e);let n=e.data;console.log("\u{1F4CB} Donn\xE9es extraites:",n.length,"\xE9l\xE9ments");let r=this.mapApiDataToSubscriptions(n);console.log("\u{1F5FA}\uFE0F Donn\xE9es mapp\xE9es:",r.length,"\xE9l\xE9ments"),r=this.applyClientSideFilters(r),console.log("\u{1F527} Apr\xE8s filtrage client:",r.length,"\xE9l\xE9ments"),this.subscriptions=r,this.souscriptionsCount=e.pagination.total,this.currentViewMode==="souscriptions"&&(this.filteredSubscriptions=[...this.subscriptions],this.totalItems=this.souscriptionsCount),this.loading=!1,this.animateProgressBars(),console.log("\u2705 === CHARGEMENT TERMIN\xC9 ===")},error:e=>{console.error("\u274C Erreur lors du chargement des souscriptions:",e),this.loading=!1}})}applyClientSideFilters(t){let e=[...t];if(console.log("\u{1F50D} D\xE9but filtrage:",t.length,"\xE9l\xE9ments"),this.statusFilter&&(console.log("\u{1F3AF} Filtrage par statut:",this.statusFilter),e=e.filter(n=>n.statut===this.statusFilter),console.log("\u{1F4CA} Apr\xE8s filtre statut:",e.length,"\xE9l\xE9ments")),this.terrainFilter&&(console.log("\u{1F3D4}\uFE0F Filtrage par superficie:",this.terrainFilter),e=e.filter(n=>{let r=n.surface.split(".")[0],l=r===this.terrainFilter.toString();return console.log(`\u{1F3AF} Surface API: "${n.surface}" -> Nettoy\xE9e: "${r}" vs Filtre: "${this.terrainFilter}" = ${l?"\u2705":"\u274C"}`),l}),console.log("\u{1F4CA} Apr\xE8s filtre superficie:",e.length,"\xE9l\xE9ments")),this.searchTerm){console.log("\u{1F50E} Filtrage par recherche:",this.searchTerm);let n=this.searchTerm.toLowerCase();e=e.filter(r=>r.id.toLowerCase().includes(n)||r.terrain.toLowerCase().includes(n)||r.prixTotal.toString().includes(n)||r.montantPaye.toString().includes(n)),console.log("\u{1F4CA} Apr\xE8s filtre recherche:",e.length,"\xE9l\xE9ments")}return console.log(`\u2705 Filtrage termin\xE9: ${t.length} -> ${e.length} r\xE9sultats`),e}mapApiDataToSubscriptions(t){console.log("\u{1F5FA}\uFE0F Mapping des donn\xE9es API:",t.length,"\xE9l\xE9ments");let e=[];for(let n=0;n<t.length;n++){let r=t[n];if(r.statut_dynamique==="rejete"){console.log(`\u{1F6AB} Souscription ${r.id_souscription} rejet\xE9e, ignor\xE9e`);continue}let l=r.prix_total_terrain,p=parseFloat(r.montant_paye),T=r.reste_a_payer;console.log(`\u{1F4CA} Donn\xE9es ${n+1}:`,{id:r.id_souscription,surface:r.terrain.superficie,prixTotal:l,montantTotalSouscrit:r.montant_total_souscrit,montantPaye:p,resteAPICalcule:r.reste_a_payer,dateProchain:r.date_prochain,planpaiements:r.planpaiements});let k=l>0?p/l*100:0;console.log(`\u{1F4CA} Progression calcul\xE9e avec d\xE9cimales: ${k.toFixed(2)}%`);let It=r.statut_dynamique,M="";if(r.date_prochain)M=r.date_prochain,console.log(`\u{1F4C5} Prochain paiement depuis API: ${M}`);else if(T>0){let C=new Date(r.date_souscription);C.setMonth(C.getMonth()+1),M=C.toISOString().split("T")[0],console.log(`\u{1F4C5} Prochain paiement calcul\xE9: ${M}`)}let F=r.planpaiements.map(C=>({date:this.formatDateForPayment(C.date_paiement_effectif),amount:parseFloat(C.montant_paye),numero_mensualite:C.numero_mensualite,mode_paiement:C.mode_paiement||"Non sp\xE9cifi\xE9",reference_paiement:C.reference_paiement,statut_versement:C.statut_versement})).sort((C,Et)=>Et.numero_mensualite-C.numero_mensualite);console.log(`\u{1F4B3} Paiements mapp\xE9s pour souscription ${r.id_souscription}:`,F);let P={id:`SUB${r.id_souscription.toString().padStart(3,"0")}`,terrain:r.terrain.libelle,surface:r.terrain.superficie,prixTotal:l,montantPaye:p,resteAPayer:T,dateDebut:r.date_souscription,prochainPaiement:M,statut:It,progression:k,payments:F};console.log(`\u2705 R\xE9sultat mapping ${n+1}:`,{id:P.id,surface:P.surface,statut:P.statut,prochainPaiement:P.prochainPaiement,progression:P.progression,payments:P.payments}),e.push(P)}return e}formatDateForPayment(t){if(!t)return"Date non disponible";try{let e=new Date(t);return isNaN(e.getTime())?"Date invalide":e.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(e){return console.error("Erreur lors du formatage de la date:",e),"Date non disponible"}}showModal(t){console.log("\u{1F50D} Ouverture modal pour:",t.id),console.log("\u{1F4B3} Paiements disponibles:",t.payments),t.payments&&Array.isArray(t.payments)?(this.lastFivePayments=t.payments.slice(0,5).map(e=>({date:e.date,amount:e.amount,numero_mensualite:e.numero_mensualite,mode_paiement:e.mode_paiement,reference_paiement:e.reference_paiement,statut_versement:e.statut_versement})),console.log("\u{1F4CB} Paiements s\xE9lectionn\xE9s pour le modal:",this.lastFivePayments)):(this.lastFivePayments=[],console.log("\u26A0\uFE0F Aucun paiement trouv\xE9 pour cette souscription")),this.selectedSubscriptionId=t.id,this.selectedSubscriptionInfo={terrain:t.terrain,surface:t.surface,progression:t.progression,montantPaye:t.montantPaye,resteAPayer:t.resteAPayer,statut:t.statut},this.isVisible=!0}handleOk(){if(this.isVisible=!1,this.lastFivePayments=[],this.selectedSubscriptionId){let t=this.selectedSubscriptionId.replace("SUB","").replace(/^0+/,"");console.log("\u{1F517} Navigation vers d\xE9tails paiement:",t),this.router.navigate(["/dashboard/user/details/payement-details",t])}this.selectedSubscriptionId=null,this.selectedSubscriptionInfo=null,this.loadSubscriptions()}handleCancel(){this.isVisible=!1,this.lastFivePayments=[],this.selectedSubscriptionId=null,this.selectedSubscriptionInfo=null}getStatusColor(t){switch(t){case"active":return"blue";case"en_cour":return"green";case"terminee":return"green";case"suspendue":return"orange";case"resillee":return"gray";case"en_attente":return"cyan";case"rejete":return"red";default:return"default"}}getPaymentStatusColor(t){switch(t){case"paye_a_temps":return"green";case"paye_en_retard":return"orange";case"paiement_partiel":return"blue";default:return"default"}}trackByPayment(t,e){return`${e.date}-${e.amount}-${e.numero_mensualite}`}formatPaymentMode(t){return{cheque:"Ch\xE8que",especes:"Esp\xE8ces",virement:"Virement bancaire",carte:"Carte bancaire",mobile:"Paiement mobile",mandat:"Mandat",autre:"Autre"}[t?.toLowerCase()]||t||"Non sp\xE9cifi\xE9"}formatPaymentStatus(t){return{paye_a_temps:"Pay\xE9 \xE0 temps",paye_en_retard:"Pay\xE9 en retard",paiement_partiel:"Paiement partiel"}[t?.toLowerCase()]||t||"Statut inconnu"}trackByFn(t,e){return e.id}get Math(){return Math}formatAmount(t){return new Intl.NumberFormat("fr-FR").format(t)+" FCFA"}formatDate(t){return t?new Date(t).toLocaleDateString("fr-FR"):""}getStatusIcon(t){switch(t){case"active":return"fa-clock";case"en_cour":return"fa-clock";case"terminee":return"fa-check-circle";case"suspendue":return"fa-pause-circle";case"resillee":return"fa-times-circle";case"en_attente":return"fa-hourglass-half";case"rejete":return"fa-times";default:return"fa-clock"}}getStatusLabel(t){switch(t){case"active":return"Active";case"en_cour":return"En cours";case"terminee":return"Termin\xE9e";case"suspendue":return"Suspendue";case"resillee":return"R\xE9sili\xE9e";case"en_attente":return"En attente";case"rejete":return"Rejet\xE9e";default:return"Inconnu"}}getStatusClass(t){return`status-${t.replace("_","-")}`}resetFilters(){this.searchTerm="",this.statusFilter="",this.terrainFilter=""}updatePaginatedData(){let t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;console.log("\u{1F4C4} Mise \xE0 jour pagination:",{startIndex:t,endIndex:e,currentPage:this.currentPage})}filterData(){console.log("\u{1F525} === D\xC9BUT FILTRAGE ==="),console.log("\u{1F3AF} Filtres actifs:",{searchTerm:this.searchTerm,statusFilter:this.statusFilter,terrainFilter:this.terrainFilter,currentViewMode:this.currentViewMode}),this.currentPage=1,console.log("\u{1F4C4} Pagination remise \xE0 1"),this.currentViewMode==="souscriptions"?this.loadSubscriptions():this.loadDemandesSouscriptions(),console.log("\u{1F525} === FIN FILTRAGE ===")}searchTimeout;onSearchChange(){console.log("Recherche chang\xE9e:",this.searchTerm),clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.filterData()},500)}onStatusFilterChange(){console.log("Filtre statut chang\xE9:",this.statusFilter),this.filterData()}onTerrainFilterChange(){console.log("Filtre terrain chang\xE9 vers:",this.terrainFilter),this.filterData()}viewSubscription(t){console.log("Voir souscription:",t)}viewDetails(t){console.log("Voir d\xE9tails:",t)}makePayment(t){console.log("Effectuer paiement:",t)}downloadContract(t){console.log("T\xE9l\xE9charger contrat:",t)}showDemandeInfo(t){console.log("\u{1F4CB} Affichage d\xE9tails demande:",t.id),this.modal.info({nzTitle:"D\xE9tails de la demande",nzContent:`
        <div class="demande-details">
          <p><strong>ID:</strong> ${t.id}</p>
          <p><strong>Terrain:</strong> ${t.terrain}</p>
          <p><strong>Surface:</strong> ${t.surface} m\xB2</p>
          <p><strong>Prix total:</strong> ${this.formatAmount(t.prixTotal)}</p>
          <p><strong>Date demande:</strong> ${this.formatDate(t.dateDemande||"")}</p>
          <p><strong>Statut:</strong> ${this.getStatusLabel(t.statut)}</p>
          <p><strong>Origine:</strong> ${t.origine||"Utilisateur"}</p>
        </div>
      `,nzWidth:500})}refreshData(){console.log("\u{1F504} ACTUALISATION COMPL\xC8TE D\xC9MARR\xC9E"),this.loading=!0,this.subscriptions=[],this.demandesSouscriptions=[],this.filteredSubscriptions=[],this.totalItems=0,this.souscriptionsCount=0,this.demandesCount=0,this.globalStats={totalAmount:0,totalPaid:0,totalRemaining:0,totalSubscriptions:0},this.currentPage=1,console.log("\u{1F9F9} Donn\xE9es vid\xE9es, rechargement depuis l'API..."),this.loadSubscriptions(),this.loadDemandesSouscriptions();let t={page:this.currentPage,per_page:this.itemsPerPage};this.statusFilter&&(t.statut=this.statusFilter,console.log("\u{1F3AF} Maintien du filtre statut:",this.statusFilter)),this.searchTerm&&(t.search=this.searchTerm,console.log("\u{1F50D} Maintien de la recherche:",this.searchTerm)),this.terrainFilter&&(t.superficie=this.terrainFilter,console.log("\u{1F3D4}\uFE0F Maintien du filtre superficie:",this.terrainFilter)),this.souscriptionService.getMesSouscriptions(t).subscribe({next:e=>{console.log("\u2705 Donn\xE9es fra\xEEches re\xE7ues de l'API:",e);let n=e.data,r=this.mapApiDataToSubscriptions(n);r=this.applyClientSideFilters(r),this.subscriptions=r,this.filteredSubscriptions=[...this.subscriptions],this.totalItems=e.pagination.total,this.loading=!1,this.animateProgressBars(),console.log("\u{1F389} ACTUALISATION TERMIN\xC9E - Nouvelles donn\xE9es charg\xE9es")},error:e=>{console.error("\u274C Erreur lors de l'actualisation forc\xE9e:",e),this.loading=!1}}),this.loadGlobalStats(),console.log("\u{1F680} Processus d'actualisation lanc\xE9")}animateProgressBars(){typeof window>"u"||typeof document>"u"||setTimeout(()=>{document.querySelectorAll(".progress-fill").forEach((e,n)=>{setTimeout(()=>{let r=e,l=r.style.width;r.style.width="0%",setTimeout(()=>{r.style.width=l},100)},n*100)})},200)}get totalAmount(){return this.globalStats.totalAmount}get totalPaid(){return this.globalStats.totalPaid}get totalRemaining(){return this.globalStats.totalRemaining}get totalSubscriptions(){return this.globalStats.totalSubscriptions}get paginatedData(){return this.filteredSubscriptions}onPageChange(t){console.log("Changement de page:",t),this.currentPage=t,this.loadSubscriptions()}onPageSizeChange(t){console.log("Changement de taille de page:",t),this.itemsPerPage=t,this.currentPage=1,this.loadSubscriptions()}preventDefault(t){t.stopPropagation()}sortBy(t,e="asc"){this.filteredSubscriptions.sort((n,r)=>{let l=n[t],p=r[t];return typeof l=="string"&&typeof p=="string"?e==="asc"?l.localeCompare(p):p.localeCompare(l):typeof l=="number"&&typeof p=="number"?e==="asc"?l-p:p-l:0})}exportToCSV(){let e=[["ID","Terrain","Prix Total","Montant Pay\xE9","Reste \xE0 Payer","Date D\xE9but","Prochain Paiement","Statut"].join(","),...this.filteredSubscriptions.map(p=>[p.id,p.terrain,p.prixTotal,p.montantPaye,p.resteAPayer,p.dateDebut,p.prochainPaiement,p.statut].join(","))].join(`
`),n=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(n),l=document.createElement("a");l.href=r,l.download="mes-souscriptions.csv",l.click(),window.URL.revokeObjectURL(r)}static \u0275fac=function(e){return new(e||c)(w(q),w(X),w(Mt))};static \u0275cmp=D({type:c,selectors:[["app-subscription"]],inputs:{placeholder:"placeholder",allowClear:"allowClear",disabled:"disabled",userId:"userId"},outputs:{subscriptionSelected:"subscriptionSelected"},standalone:!0,features:[j],decls:97,vars:41,consts:[["totalTemplate",""],[1,"subscription-wrapper"],[1,"header-section"],[1,"header-top"],[1,"header-info"],[1,"main-title"],[1,"fas",3,"ngClass"],[1,"subtitle"],[1,"view-toggle"],[1,"toggle-btn",3,"click"],[1,"fas","fa-map-marked-alt"],["class","count-badge",4,"ngIf"],[1,"fas","fa-paper-plane"],[1,"controls-section"],[1,"search-container"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Rechercher par ID, terrain, montant...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filters-section"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value",""],[4,"ngIf"],["value","250"],["value","500"],[1,"refresh-btn",3,"click","disabled"],[1,"fas","fa-sync-alt"],[1,"stats-bar"],[1,"stat-card"],[1,"stat-number"],[1,"stat-label"],[1,"table-responsive","desktop-only"],[1,"mobile-table-title"],[1,"table-scroll-indicator"],[1,"fas","fa-arrow-right"],[1,"table-container"],[1,"modern-table"],[1,"table-header"],["id","tableBody"],["class","table-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"pagination-container"],[3,"nzPageIndexChange","nzPageSizeChange","nzTotal","nzPageSize","nzPageIndex","nzShowSizeChanger","nzShowQuickJumper","nzShowTotal","nzPageSizeOptions"],["nzTitle","D\xE9tails des paiements","nzWidth","450px","nzCentered","","nzClassName","compact-modal",3,"nzVisibleChange","nzOnCancel","nzVisible","nzFooter"],[4,"nzModalContent"],[1,"count-badge"],["value","active"],["value","en_cour"],["value","terminee"],["value","suspendue"],["value","resillee"],["value","en_attente"],["value","approuve"],["value","rejete"],[1,"table-row"],[1,"table-cell"],[1,"subscription-id"],[1,"terrain-info"],[1,"terrain-icon"],[1,"fas","fa-map"],[1,"terrain-details"],[1,"terrain-surface"],[1,"price-display"],[1,"progress-bar"],[1,"progress-fill"],["class","amount-paid",4,"ngIf"],["class","date-display",4,"ngIf"],["class","amount-remaining",4,"ngIf"],["class","origine-badge",4,"ngIf"],[1,"date-display"],["class","next-payment",4,"ngIf"],[1,"status-badge",3,"ngClass"],[1,"action-buttons"],["class","action-btn btn-view","nz-button","","title","Voir plus",3,"nzType","click",4,"ngIf"],["class","action-btn btn-info","nz-button","","title","D\xE9tails de la demande",3,"nzType","click",4,"ngIf"],[1,"amount-paid"],[1,"amount-remaining"],[1,"origine-badge"],[1,"next-payment"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-clock"],["nz-button","","title","Voir plus",1,"action-btn","btn-view",3,"click","nzType"],[1,"fas","fa-eye"],[1,"btn-text"],["nz-button","","title","D\xE9tails de la demande",1,"action-btn","btn-info",3,"click","nzType"],[1,"fas","fa-info-circle"],["colspan","9",1,"loading-cell"],[1,"loading-content"],[1,"fas","fa-spinner","loading-spinner"],[1,"loading-text"],["colspan","9",1,"no-results"],[1,"fas","fa-search"],[1,"modal-content-compact"],["class","subscription-info-compact",4,"ngIf"],[1,"payments-section-compact"],[1,"payments-header-compact"],[1,"payments-title-compact"],[1,"fas","fa-history"],["class","payments-count-compact",4,"ngIf"],["class","payments-list-compact",4,"ngIf"],["class","no-payments-compact",4,"ngIf"],[1,"modal-actions-compact"],["nz-button","","nzType","default",1,"btn-compact","cancel-btn-compact",3,"click"],[1,"fas","fa-times"],["nz-button","","nzType","primary",1,"btn-compact","details-btn-compact",3,"click"],[1,"subscription-info-compact"],[1,"subscription-header-compact"],[1,"subscription-title-compact"],[1,"status-tag-compact",3,"nzColor"],[1,"terrain-details-compact"],[1,"terrain-row"],[1,"label-compact"],[1,"value-compact"],[1,"amounts-summary-compact"],[1,"amount-item-compact"],[1,"amount-label"],[1,"amount-value","paid"],[1,"amount-value","remaining"],[1,"payments-count-compact"],[1,"payments-list-compact"],["class","payment-item-compact",4,"ngFor","ngForOf","ngForTrackBy"],[1,"payment-item-compact"],[1,"payment-main-compact"],[1,"payment-date-compact"],[1,"payment-amount-compact"],["class","payment-details-compact",4,"ngIf"],[1,"payment-details-compact"],["class","detail-compact",4,"ngIf"],["class","status-tag-small",3,"nzColor",4,"ngIf"],[1,"detail-compact"],[1,"status-tag-small",3,"nzColor"],[1,"no-payments-compact"]],template:function(e,n){if(e&1){let r=O();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1",5),m(5,"i",6),s(6),o(),i(7,"p",7),s(8),o()(),i(9,"div",8)(10,"button",9),h("click",function(){return _(r),b(n.switchViewMode("souscriptions"))}),m(11,"i",10),s(12," Souscriptions "),x(13,kt,2,1,"span",11),o(),i(14,"button",9),h("click",function(){return _(r),b(n.switchViewMode("demandes"))}),m(15,"i",12),s(16," Demandes "),x(17,Ft,2,1,"span",11),o()()()(),i(18,"div",13)(19,"div",14),m(20,"i",15),i(21,"input",16),y("ngModelChange",function(p){return _(r),S(n.searchTerm,p)||(n.searchTerm=p),b(p)}),h("input",function(){return _(r),b(n.onSearchChange())}),o()(),i(22,"div",17)(23,"select",18),y("ngModelChange",function(p){return _(r),S(n.statusFilter,p)||(n.statusFilter=p),b(p)}),h("change",function(){return _(r),b(n.onStatusFilterChange())}),i(24,"option",19),s(25,"Tous les statuts"),o(),x(26,Dt,11,0,"ng-container",20)(27,Vt,7,0,"ng-container",20),o(),i(28,"select",18),y("ngModelChange",function(p){return _(r),S(n.terrainFilter,p)||(n.terrainFilter=p),b(p)}),h("change",function(){return _(r),b(n.onTerrainFilterChange())}),i(29,"option",19),s(30,"Toutes les surfaces"),o(),i(31,"option",21),s(32,"250m\xB2"),o(),i(33,"option",22),s(34,"500m\xB2"),o()(),i(35,"button",23),h("click",function(){return _(r),b(n.refreshData())}),m(36,"i",24),s(37),o()()(),i(38,"div",25)(39,"div",26)(40,"div",27),s(41),o(),i(42,"div",28),s(43,"Total Souscriptions"),o()(),i(44,"div",26)(45,"div",27),s(46),o(),i(47,"div",28),s(48,"Montant Total"),o()(),i(49,"div",26)(50,"div",27),s(51),o(),i(52,"div",28),s(53,"D\xE9j\xE0 Pay\xE9"),o()(),i(54,"div",26)(55,"div",27),s(56),o(),i(57,"div",28),s(58,"Reste \xE0 Payer"),o()()(),i(59,"div",29)(60,"div",30),s(61),o(),i(62,"div",31),m(63,"i",32),s(64," Faites d\xE9filer horizontalement pour voir plus "),o(),i(65,"div",33)(66,"table",34)(67,"thead",35)(68,"tr")(69,"th"),s(70),o(),i(71,"th"),s(72,"Terrain"),o(),i(73,"th"),s(74,"Prix Total"),o(),i(75,"th"),s(76),o(),i(77,"th"),s(78),o(),i(79,"th"),s(80,"Date D\xE9but"),o(),i(81,"th"),s(82),o(),i(83,"th"),s(84,"Statut"),o(),i(85,"th"),s(86,"Actions"),o()()(),i(87,"tbody",36),x(88,Wt,38,18,"tr",37)(89,qt,6,1,"tr",20)(90,Gt,7,1,"tr",20),o()()(),i(91,"div",38)(92,"nz-pagination",39),h("nzPageIndexChange",function(p){return _(r),b(n.onPageChange(p))})("nzPageSizeChange",function(p){return _(r),b(n.onPageSizeChange(p))}),o(),x(93,Yt,0,0,"ng-template",null,0,B),o()()(),i(95,"nz-modal",40),y("nzVisibleChange",function(p){return _(r),S(n.isVisible,p)||(n.isVisible=p),b(p)}),h("nzOnCancel",function(){return _(r),b(n.handleCancel())}),x(96,ie,18,4,"ng-container",41),o()}if(e&2){let r=N(94);a(5),d("ngClass",n.currentViewMode==="souscriptions"?"fa-map-marked-alt":"fa-paper-plane"),a(),f(" ",n.currentViewMode==="souscriptions"?"Mes Souscriptions":"Mes Demandes de Souscription"," "),a(2),f(" ",n.currentViewMode==="souscriptions"?"G\xE9rez et suivez tous vos terrains en temps r\xE9el":"Consultez toutes vos demandes de souscription"," "),a(2),z("active",n.currentViewMode==="souscriptions"),a(3),d("ngIf",n.souscriptionsCount>0),a(),z("active",n.currentViewMode==="demandes"),a(3),d("ngIf",n.demandesCount>0),a(4),v("ngModel",n.searchTerm),a(2),v("ngModel",n.statusFilter),a(3),d("ngIf",n.currentViewMode==="souscriptions"),a(),d("ngIf",n.currentViewMode==="demandes"),a(),v("ngModel",n.terrainFilter),a(7),d("disabled",n.loading),a(),z("fa-spin",n.loading),a(),f(" ",n.loading?"Chargement...":"Actualiser"," "),a(4),u(n.totalSubscriptions),a(5),u(n.formatAmount(n.totalAmount)),a(5),u(n.formatAmount(n.totalPaid)),a(5),u(n.formatAmount(n.totalRemaining)),a(5),f(" ",n.currentViewMode==="souscriptions"?"\u{1F4CB} Liste des Souscriptions":"\u{1F4C4} Liste des Demandes"," "),a(9),u(n.currentViewMode==="souscriptions"?"Souscription":"Demande"),a(6),u(n.currentViewMode==="souscriptions"?"Montant Pay\xE9":"Date Demande"),a(2),u(n.currentViewMode==="souscriptions"?"Reste \xE0 Payer":"Origine"),a(4),u(n.currentViewMode==="souscriptions"?"Prochain Paiement":"Date Cr\xE9ation"),a(6),d("ngForOf",n.paginatedData)("ngForTrackBy",n.trackByFn),a(),d("ngIf",n.loading),a(),d("ngIf",!n.loading&&n.paginatedData.length===0),a(2),d("nzTotal",n.totalItems)("nzPageSize",n.itemsPerPage)("nzPageIndex",n.currentPage)("nzShowSizeChanger",!0)("nzShowQuickJumper",!0)("nzShowTotal",r)("nzPageSizeOptions",R(40,Tt)),a(3),v("nzVisible",n.isVisible),d("nzFooter",null)}},dependencies:[W,$,L,U,Y,yt,vt,K,Q,H,J,G,bt,gt,mt,_t,ut,ft,ht,xt,et,tt,Z,St,Ct,lt,Pt,Ot,wt,dt,pt,ct,rt,st,nt,at,it,ot],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;padding:10px;box-sizing:border-box;overflow:auto;position:relative}.subscription-wrapper[_ngcontent-%COMP%], .subscription-container[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 auto;background:#fffffff7;border-radius:18px;padding:20px;box-shadow:0 8px 32px #1e3a8a14;box-sizing:border-box;display:flex;flex-direction:column;gap:20px;min-height:auto}.header-section[_ngcontent-%COMP%]{margin-bottom:20px}.header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:15px}.header-info[_ngcontent-%COMP%]{text-align:left;flex:1;min-width:280px}.main-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:10px;line-height:1.2}.main-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.subtitle[_ngcontent-%COMP%]{color:#ffb300;font-weight:800;font-size:1.1rem;letter-spacing:.7px;text-shadow:0 2px 8px rgba(102,126,234,.08);margin-top:6px;margin-bottom:0}.view-toggle[_ngcontent-%COMP%]{display:flex;gap:10px;background:#ffffffe6;border-radius:12px;padding:6px;box-shadow:0 4px 12px #0000001a;flex-shrink:0}.toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;border:none;border-radius:8px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;background:transparent;color:#666;position:relative;white-space:nowrap}.toggle-btn[_ngcontent-%COMP%]:hover{background:#667eea1a;color:#667eea;transform:translateY(-1px)}.toggle-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 15px #667eea4d}.toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.count-badge[_ngcontent-%COMP%]{background:#ffffffe6;color:#667eea;font-size:.75rem;font-weight:700;padding:4px 8px;border-radius:20px;min-width:20px;text-align:center;margin-left:5px}.toggle-btn.active[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{background:#fffffff2;color:#667eea}.controls-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-bottom:20px}.controls-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{position:relative;width:100%}.controls-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px 12px 45px;font-size:1rem;border:2px solid #e5e7eb;border-radius:12px;background:#fff;transition:all .3s ease;box-sizing:border-box}.controls-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 8px 25px #667eea26;transform:translateY(-1px)}.controls-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#9ca3af;font-size:1rem}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;align-items:center}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{flex:1;min-width:120px;padding:10px 12px;border:2px solid #e5e7eb;border-radius:10px;background:#fff;font-size:.95rem;cursor:pointer;transition:all .3s ease;box-sizing:border-box}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 8px 25px #667eea26}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{padding:10px 14px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;cursor:pointer;transition:all .3s ease;font-weight:600;font-size:.95rem;white-space:nowrap;flex-shrink:0}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 20px #667eea4d}.stats-bar[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-bottom:20px}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#e2e8f0);padding:15px;border-radius:12px;text-align:center;border:1px solid rgba(102,126,234,.1);transition:all .3s ease}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #0000001a}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#1f2937;margin-bottom:5px;line-height:1.1}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem;font-weight:500;line-height:1.3}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(3)   .stat-number[_ngcontent-%COMP%]{color:#10b981!important}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:nth-child(4)   .stat-number[_ngcontent-%COMP%]{color:#f59e0b!important}.table-responsive[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 8px 32px #00000014;overflow:hidden;margin-bottom:20px}.table-responsive[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch;background:#fff}.table-responsive[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px;background:#f1f5f9}.table-responsive[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#a5b4fc,#667eea);border-radius:8px}.mobile-table-title[_ngcontent-%COMP%]{display:none;font-size:1rem;font-weight:700;color:#667eea;margin-bottom:8px;text-align:left;padding:0 12px}.table-scroll-indicator[_ngcontent-%COMP%]{display:none;align-items:center;font-size:.85rem;color:#6b7280;margin-bottom:8px;gap:6px;padding:0 12px}.modern-table[_ngcontent-%COMP%]{width:100%;min-width:800px;border-collapse:collapse;font-size:.85rem;background:#fff}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 8px;text-align:left;font-weight:700;color:#fff!important;font-size:.75rem;text-transform:uppercase;letter-spacing:.3px;border-bottom:2px solid rgba(255,255,255,.2);cursor:pointer;transition:all .3s ease;position:relative}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover{background:#ffffff1a}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:80px;text-align:center;border-top-left-radius:16px}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:150px}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:is(:nth-child(3), [_ngcontent-%COMP%]:nth-child(4), [_ngcontent-%COMP%]:nth-child(5)){width:120px;text-align:right}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:is(:nth-child(6), [_ngcontent-%COMP%]:nth-child(7)){width:100px;text-align:center}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(8){width:100px;text-align:center}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:120px;text-align:center;border-top-right-radius:16px}.modern-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{background:#fff;transition:all .2s ease}.modern-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f8fafc,#f1f5f9);transform:scale(1.001)}.modern-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n){background:#f8fafc80}.modern-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n):hover{background:linear-gradient(135deg,#f1f5f9,#e2e8f0)}.modern-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #f1f5f9;vertical-align:middle}.modern-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]:first-child{text-align:center;font-weight:700;color:#1f2937}.modern-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]:is(:nth-child(3), [_ngcontent-%COMP%]:nth-child(4), [_ngcontent-%COMP%]:nth-child(5)){text-align:right}.modern-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]:is(:nth-child(6), [_ngcontent-%COMP%]:nth-child(7), [_ngcontent-%COMP%]:nth-child(8), [_ngcontent-%COMP%]:last-child){text-align:center}.subscription-id[_ngcontent-%COMP%]{font-size:.9rem!important;color:#111;font-weight:700;letter-spacing:.2px}.terrain-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.terrain-info[_ngcontent-%COMP%]   .terrain-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:6px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:.8rem;flex-shrink:0}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]{min-width:0;flex:1}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;margin-bottom:2px;font-size:.8rem;line-height:1.2}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   .terrain-surface[_ngcontent-%COMP%]{font-size:.7rem;color:#6b7280;line-height:1.2}.price-display[_ngcontent-%COMP%]{font-weight:700;color:#1f2937;font-size:.8rem}.amount-paid[_ngcontent-%COMP%]{color:#10b981;font-weight:600;font-size:.8rem}.amount-remaining[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600;font-size:.8rem}.date-display[_ngcontent-%COMP%]{font-size:.8rem;color:#4b5563}.next-payment[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);padding:4px 8px;border-radius:6px;font-weight:600;color:#92400e;font-size:.7rem;border:1px solid #fbbf24;display:inline-block;text-align:center;line-height:1.1}.next-payment[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px;font-size:.8em}.status-badge[_ngcontent-%COMP%]{font-size:.7rem!important;padding:6px 12px!important;border-radius:8px!important;line-height:1.2!important;display:inline-flex!important;align-items:center!important;gap:4px!important;font-weight:600!important;border:1px solid transparent!important;transition:all .2s ease!important}.status-badge.status-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe)!important;color:#1e40af!important;border:1px solid #3b82f6!important}.status-badge.status-en-cour[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0)!important;color:#047857!important;border:1px solid #10b981!important}.status-badge.status-terminee[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0)!important;color:#15803d!important;border:1px solid #22c55e!important}.status-badge.status-suspendue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fed7aa,#fdba74)!important;color:#c2410c!important;border:1px solid #f97316!important}.status-badge.status-resillee[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb)!important;color:#374151!important;border:1px solid #6b7280!important}.status-badge.status-en-attente[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a)!important;color:#92400e!important;border:1px solid #f59e0b!important}.status-badge.status-rejete[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca)!important;color:#dc2626!important;border:1px solid #ef4444!important}.status-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8em!important;margin-right:2px!important}.status-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px)!important;box-shadow:0 2px 8px #0000001a!important}.origine-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);color:#374151;font-size:.8rem;font-weight:600;border-radius:8px;border:1px solid #d1d5db}.origine-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280}.progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:#e5e7eb;border-radius:2px;overflow:hidden;margin-top:4px}.progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#10b981,#059669);border-radius:2px;transition:width .8s ease}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:6px 10px;border:none;border-radius:6px;cursor:pointer;font-size:.7rem;font-weight:600;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:4px;min-height:28px;white-space:nowrap}.action-buttons[_ngcontent-%COMP%]   .action-btn.btn-view[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff}.action-buttons[_ngcontent-%COMP%]   .action-btn.btn-pay[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.action-buttons[_ngcontent-%COMP%]   .action-btn.btn-download[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0003}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;gap:10px;flex-wrap:wrap;width:100%}.pagination-container[_ngcontent-%COMP%]     .ant-pagination-options-quick-jumper{color:#374151!important;font-weight:500!important}.pagination-container[_ngcontent-%COMP%]     .ant-pagination-options-quick-jumper input{background:#fff!important;border:1px solid #e5e7eb!important;color:#374151!important;border-radius:6px!important}.pagination-container[_ngcontent-%COMP%]     .ant-pagination-options-size-changer .ant-select-selector{background:#fff!important;border:1px solid #e5e7eb!important;color:#374151!important}.pagination-container[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{padding:6px 8px;border:2px solid #e5e7eb;background:#fff;border-radius:8px;cursor:pointer;transition:all .3s ease;font-weight:600;min-width:32px;height:32px;display:flex;align-items:center;justify-content:center;font-size:.8rem}.pagination-container[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(.disabled){background:#f1f5f9;border-color:#a5b4fc}.pagination-container[_ngcontent-%COMP%]   .pagination-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:#667eea}.pagination-container[_ngcontent-%COMP%]   .pagination-btn.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{color:#374151!important;font-size:.9rem;text-align:center}.loading-cell[_ngcontent-%COMP%]{height:150px;text-align:center;vertical-align:middle}.loading-cell[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px}.loading-cell[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{font-size:2rem;color:#667eea;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-cell[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:#374151!important;font-weight:500;font-size:1rem}.no-results[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280}.no-results[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:15px;opacity:.5}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:8px;color:#374151}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.8}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .compact-modal .ant-modal{max-width:90vw}  .compact-modal .ant-modal-content{border-radius:8px!important;overflow:hidden!important}  .compact-modal .ant-modal-body{padding:16px!important}  .compact-modal .ant-modal-header{padding:12px 16px!important;border-bottom:1px solid #f0f0f0!important}  .compact-modal .ant-modal-title{font-size:14px!important;font-weight:600!important}.modal-content-compact[_ngcontent-%COMP%]{padding:0;font-size:12px;line-height:1.4}.subscription-info-compact[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f0f9ff);padding:12px;border-radius:6px;margin-bottom:12px;border:1px solid #e3f2fd}.subscription-header-compact[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.subscription-title-compact[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1890ff;display:flex;align-items:center;gap:6px}.subscription-title-compact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.status-tag-compact[_ngcontent-%COMP%]{font-size:10px!important;padding:2px 6px!important;line-height:1.2!important;border-radius:4px!important}.terrain-details-compact[_ngcontent-%COMP%]{margin-bottom:10px}.terrain-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:3px 0;font-size:11px}.label-compact[_ngcontent-%COMP%]{color:#666;font-weight:500}.value-compact[_ngcontent-%COMP%]{color:#333;font-weight:600}.amounts-summary-compact[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:8px;border-top:1px solid #e3f2fd}.amount-item-compact[_ngcontent-%COMP%]{flex:1;text-align:center;padding:6px;background:#ffffffb3;border-radius:4px}.amount-label[_ngcontent-%COMP%]{display:block;font-size:9px;color:#666;margin-bottom:2px;text-transform:uppercase;letter-spacing:.3px}.amount-value[_ngcontent-%COMP%]{display:block;font-size:11px;font-weight:700}.amount-value.paid[_ngcontent-%COMP%]{color:#52c41a}.amount-value.remaining[_ngcontent-%COMP%]{color:#ff4d4f}.payments-section-compact[_ngcontent-%COMP%]{margin-bottom:12px}.payments-header-compact[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.payments-title-compact[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#333;display:flex;align-items:center;gap:6px}.payments-title-compact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1890ff;font-size:12px}.payments-count-compact[_ngcontent-%COMP%]{font-size:9px;color:#666;background:#f0f2f5;padding:2px 6px;border-radius:8px;min-width:20px;text-align:center}.payments-list-compact[_ngcontent-%COMP%]{max-height:180px;overflow-y:auto;padding-right:4px}.payments-list-compact[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.payments-list-compact[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f0f0f0;border-radius:2px}.payments-list-compact[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d9d9d9;border-radius:2px}.payments-list-compact[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#bfbfbf}.payment-item-compact[_ngcontent-%COMP%]{background:#fafafa;border:1px solid #e8e8e8;border-radius:4px;padding:8px;margin-bottom:6px;transition:all .2s ease}.payment-item-compact[_ngcontent-%COMP%]:hover{background:#f0f9ff;border-color:#91d5ff;transform:translateY(-1px);box-shadow:0 1px 4px #1890ff26}.payment-main-compact[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.payment-date-compact[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-weight:500;color:#333;font-size:11px}.payment-date-compact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1890ff;font-size:10px}.payment-amount-compact[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#52c41a}.payment-details-compact[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;align-items:center;padding-top:6px;border-top:1px solid #f0f0f0}.detail-compact[_ngcontent-%COMP%]{font-size:10px;color:#666;background:#f8f8f8;padding:2px 6px;border-radius:3px;border:1px solid #e8e8e8}.status-tag-small[_ngcontent-%COMP%]{font-size:9px!important;padding:1px 4px!important;line-height:1.1!important;border-radius:3px!important;margin:0!important}.no-payments-compact[_ngcontent-%COMP%]{text-align:center;padding:20px 10px;background:#fafafa;border-radius:4px;border:1px dashed #d9d9d9;color:#999;font-size:11px;display:flex;align-items:center;justify-content:center;gap:6px}.no-payments-compact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#d9d9d9}.modal-actions-compact[_ngcontent-%COMP%]{display:flex;gap:8px;padding-top:12px;border-top:1px solid #f0f0f0}.btn-compact[_ngcontent-%COMP%]{flex:1;height:32px!important;font-size:11px!important;padding:0 12px!important;display:flex;align-items:center;justify-content:center;gap:4px;font-weight:500;border-radius:4px}.btn-compact[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px}.cancel-btn-compact[_ngcontent-%COMP%]{border-color:#d9d9d9;color:#666}.details-btn-compact[_ngcontent-%COMP%]{background:#1890ff;border-color:#1890ff}.cancel-btn-compact[_ngcontent-%COMP%]:hover{border-color:#40a9ff;color:#40a9ff}.details-btn-compact[_ngcontent-%COMP%]:hover{background:#40a9ff;border-color:#40a9ff}@media screen and (max-width: 479px){[_nghost-%COMP%]{padding:5px}.subscription-container[_ngcontent-%COMP%], .subscription-wrapper[_ngcontent-%COMP%]{padding:8px;gap:12px;border-radius:8px}.header-section[_ngcontent-%COMP%]{margin-bottom:15px}.header-section[_ngcontent-%COMP%]   .header-top[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:stretch;text-align:center}.header-section[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{text-align:center;min-width:auto;width:100%}.header-section[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:1.4rem;line-height:1.3}.header-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.85rem}.header-section[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:4px;gap:6px}.header-section[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem;flex:1}.header-section[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.header-section[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{font-size:.65rem;padding:2px 6px;margin-left:3px}.stats-bar[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:8px}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:8px 6px;min-height:65px;display:flex;flex-direction:column;justify-content:center}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:3px}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.65rem;line-height:1.2}.controls-section[_ngcontent-%COMP%]{gap:8px}.controls-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:10px 12px 10px 35px;font-size:.9rem;border-radius:8px}.controls-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{left:12px;font-size:.9rem}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{flex-direction:column;width:100%}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{width:100%;min-width:auto;padding:8px 10px;font-size:.85rem;border-radius:8px}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:.85rem;border-radius:8px}.mobile-table-title[_ngcontent-%COMP%]{display:block;font-size:.9rem;padding:0 8px;margin-bottom:6px}.table-scroll-indicator[_ngcontent-%COMP%]{display:flex;font-size:.75rem;padding:0 8px;margin-bottom:6px;color:#667eea}.modern-table[_ngcontent-%COMP%]{min-width:650px;font-size:.65rem}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:6px 4px;font-size:.6rem}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:45px}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:100px}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:is(:nth-child(3), [_ngcontent-%COMP%]:nth-child(4), [_ngcontent-%COMP%]:nth-child(5)){width:70px}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:is(:nth-child(6), [_ngcontent-%COMP%]:nth-child(7), [_ngcontent-%COMP%]:nth-child(8)){width:60px}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:65px}.modern-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{padding:6px 4px}.terrain-info[_ngcontent-%COMP%]{gap:4px}.terrain-info[_ngcontent-%COMP%]   .terrain-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:.65rem}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.65rem;margin-bottom:1px}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   .terrain-surface[_ngcontent-%COMP%]{font-size:.55rem}.subscription-id[_ngcontent-%COMP%]{font-size:.65rem!important}.price-display[_ngcontent-%COMP%], .amount-paid[_ngcontent-%COMP%], .amount-remaining[_ngcontent-%COMP%], .date-display[_ngcontent-%COMP%]{font-size:.6rem}.status-badge[_ngcontent-%COMP%]{font-size:.55rem!important;padding:3px 6px!important;gap:2px!important}.next-payment[_ngcontent-%COMP%]{font-size:.55rem;padding:2px 4px}.action-buttons[_ngcontent-%COMP%]{gap:2px}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:3px 5px;font-size:.55rem;min-height:22px}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.pagination-container[_ngcontent-%COMP%]{flex-direction:column;gap:8px;padding:10px}.pagination-container[_ngcontent-%COMP%]     .ant-pagination{flex-direction:column!important;gap:6px!important;width:100%!important}.pagination-container[_ngcontent-%COMP%]     .ant-pagination-item, .pagination-container[_ngcontent-%COMP%]     .ant-pagination-prev, .pagination-container[_ngcontent-%COMP%]     .ant-pagination-next{min-width:26px!important;height:26px!important;margin:0 2px!important}[_ngcontent-%COMP%]:is()   [_ngcontent-%COMP%]:is(a, .ant-pagination-item-link)[_ngcontent-%COMP%]{font-size:.7rem!important;line-height:26px!important}.pagination-container[_ngcontent-%COMP%]     .ant-pagination-options{margin-top:6px!important;text-align:center!important;width:100%!important}.pagination-container[_ngcontent-%COMP%]     .ant-pagination-options-quick-jumper{font-size:.75rem!important;color:#374151!important}[_ngcontent-%COMP%]:is()   input[_ngcontent-%COMP%]{width:45px!important;height:26px!important;font-size:.7rem!important;color:#374151!important}.pagination-container[_ngcontent-%COMP%]     .ant-pagination-options-size-changer .ant-select-selector{height:26px!important;font-size:.7rem!important}  .compact-modal .ant-modal{width:95vw!important;margin:8px auto!important}  .compact-modal .ant-modal-body{padding:10px!important}.modal-content-compact[_ngcontent-%COMP%]{font-size:10px}.subscription-info-compact[_ngcontent-%COMP%]{padding:6px;margin-bottom:6px}.subscription-header-compact[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.subscription-title-compact[_ngcontent-%COMP%]{font-size:11px}.terrain-row[_ngcontent-%COMP%]{font-size:9px;padding:1px 0}.amounts-summary-compact[_ngcontent-%COMP%]{flex-direction:column;gap:4px}.amount-item-compact[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;text-align:left;padding:3px 4px}.amount-label[_ngcontent-%COMP%]{font-size:7px;margin-bottom:0}.amount-value[_ngcontent-%COMP%]{font-size:9px}.payments-list-compact[_ngcontent-%COMP%]{max-height:100px}.payment-item-compact[_ngcontent-%COMP%]{padding:4px;margin-bottom:3px}.payment-date-compact[_ngcontent-%COMP%], .payment-amount-compact[_ngcontent-%COMP%]{font-size:9px}.btn-compact[_ngcontent-%COMP%]{height:26px!important;font-size:9px!important;padding:0 6px!important}}@media screen and (min-width: 480px) and (max-width: 767px){.subscription-container[_ngcontent-%COMP%], .subscription-wrapper[_ngcontent-%COMP%]{padding:15px;gap:16px}.header-top[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:center;text-align:center}.header-info[_ngcontent-%COMP%]{text-align:center;min-width:auto;width:100%}.main-title[_ngcontent-%COMP%]{font-size:1.6rem}.subtitle[_ngcontent-%COMP%]{font-size:1rem}.view-toggle[_ngcontent-%COMP%]{width:100%;max-width:400px;justify-content:center}.stats-bar[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:10px}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:12px 10px}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:1.3rem}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem}.controls-section[_ngcontent-%COMP%]{gap:12px}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{width:100%;justify-content:center}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{flex:1;min-width:130px;max-width:160px}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{flex-shrink:0;padding:10px 16px}.mobile-table-title[_ngcontent-%COMP%]{display:block;padding:0 10px}.table-scroll-indicator[_ngcontent-%COMP%]{display:flex;padding:0 10px}.modern-table[_ngcontent-%COMP%]{min-width:750px;font-size:.75rem}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 6px;font-size:.65rem}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:55px}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:120px}.modern-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{padding:8px 6px}.terrain-info[_ngcontent-%COMP%]{gap:6px}.terrain-info[_ngcontent-%COMP%]   .terrain-icon[_ngcontent-%COMP%]{width:26px;height:26px;font-size:.75rem}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.75rem}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   .terrain-surface[_ngcontent-%COMP%]{font-size:.65rem}.subscription-id[_ngcontent-%COMP%]{font-size:.75rem!important}.price-display[_ngcontent-%COMP%], .amount-paid[_ngcontent-%COMP%], .amount-remaining[_ngcontent-%COMP%], .date-display[_ngcontent-%COMP%]{font-size:.7rem}.status-badge[_ngcontent-%COMP%]{font-size:.65rem!important;padding:4px 8px!important}.action-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:3px}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:4px 7px;font-size:.65rem;min-height:26px}.pagination-container[_ngcontent-%COMP%]{padding:12px}.pagination-container[_ngcontent-%COMP%]     .ant-pagination-item, .pagination-container[_ngcontent-%COMP%]     .ant-pagination-prev, .pagination-container[_ngcontent-%COMP%]     .ant-pagination-next{min-width:30px!important;height:30px!important}[_ngcontent-%COMP%]:is()   [_ngcontent-%COMP%]:is(a, .ant-pagination-item-link)[_ngcontent-%COMP%]{font-size:.75rem!important}.pagination-container[_ngcontent-%COMP%]     .ant-pagination-options-quick-jumper{font-size:.8rem!important}[_ngcontent-%COMP%]:is()   input[_ngcontent-%COMP%]{height:30px!important;width:55px!important}  .compact-modal .ant-modal{width:70vw!important;max-width:500px!important}.payments-list-compact[_ngcontent-%COMP%]{max-height:140px}.payment-details-compact[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:4px}}@media screen and (min-width: 768px) and (max-width: 1023px){.subscription-container[_ngcontent-%COMP%], .subscription-wrapper[_ngcontent-%COMP%]{padding:20px}.header-top[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}.header-info[_ngcontent-%COMP%]{text-align:left;flex:1;min-width:300px}.view-toggle[_ngcontent-%COMP%]{flex-shrink:0;max-width:300px}.controls-section[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:15px}.controls-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{flex:1;max-width:350px}.controls-section[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%]{flex-shrink:0;flex-wrap:nowrap;width:auto}.stats-bar[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:12px}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:12px 10px}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:1.2rem}.stats-bar[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem}.mobile-table-title[_ngcontent-%COMP%], .table-scroll-indicator[_ngcontent-%COMP%]{display:none}.modern-table[_ngcontent-%COMP%]{min-width:100%;font-size:.8rem}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 8px;font-size:.7rem}.modern-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{padding:10px 8px}.terrain-info[_ngcontent-%COMP%]{gap:8px}.terrain-info[_ngcontent-%COMP%]   .terrain-icon[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.8rem}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8rem}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   .terrain-surface[_ngcontent-%COMP%]{font-size:.7rem}.subscription-id[_ngcontent-%COMP%]{font-size:.8rem!important}.price-display[_ngcontent-%COMP%], .amount-paid[_ngcontent-%COMP%], .amount-remaining[_ngcontent-%COMP%], .date-display[_ngcontent-%COMP%]{font-size:.75rem}.status-badge[_ngcontent-%COMP%]{font-size:.7rem!important;padding:5px 10px!important}.action-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:4px}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:6px 8px;font-size:.7rem;min-height:28px}  .compact-modal .ant-modal{width:500px!important}.payments-list-compact[_ngcontent-%COMP%]{max-height:160px}}@media screen and (min-width: 1024px){.mobile-table-title[_ngcontent-%COMP%], .table-scroll-indicator[_ngcontent-%COMP%]{display:none}.modern-table[_ngcontent-%COMP%]{min-width:100%;font-size:.9rem}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px 12px;font-size:.8rem}.modern-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{padding:15px 12px}.terrain-info[_ngcontent-%COMP%]{gap:12px}.terrain-info[_ngcontent-%COMP%]   .terrain-icon[_ngcontent-%COMP%]{width:36px;height:36px;font-size:.9rem}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.terrain-info[_ngcontent-%COMP%]   .terrain-details[_ngcontent-%COMP%]   .terrain-surface[_ngcontent-%COMP%]{font-size:.8rem}.subscription-id[_ngcontent-%COMP%]{font-size:1rem!important}.price-display[_ngcontent-%COMP%], .amount-paid[_ngcontent-%COMP%], .amount-remaining[_ngcontent-%COMP%], .date-display[_ngcontent-%COMP%]{font-size:.9rem}.status-badge[_ngcontent-%COMP%]{font-size:.8rem!important;padding:8px 12px!important}.next-payment[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 10px}.action-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:6px}.action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem;min-height:32px}  .compact-modal .ant-modal{width:450px!important}.payments-list-compact[_ngcontent-%COMP%]{max-height:200px}}@media screen and (min-width: 1280px){.subscription-container[_ngcontent-%COMP%], .subscription-wrapper[_ngcontent-%COMP%]{max-width:1400px;padding:30px}.modern-table[_ngcontent-%COMP%]{font-size:1rem}.modern-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:18px 15px;font-size:.85rem}.modern-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{padding:18px 15px}}.search-input[_ngcontent-%COMP%]:focus, .filter-select[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus, .pagination-btn[_ngcontent-%COMP%]:focus, .btn-compact[_ngcontent-%COMP%]:focus{outline:2px solid #6366f1;outline-offset:2px}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{transition:none!important;animation:none!important}.loading-spinner[_ngcontent-%COMP%]{animation:none!important}.payment-item-compact[_ngcontent-%COMP%]:hover{transform:none}}"]})};export{zt as SubscriptionComponent};
