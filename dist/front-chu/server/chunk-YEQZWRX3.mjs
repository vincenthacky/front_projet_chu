import './polyfills.server.mjs';
import{F as nt,H as it}from"./chunk-DXOQ4KLL.mjs";import{H as et,I as _,J as ot,R as rt,S as st,o as O,t as I}from"./chunk-CHSZOI33.mjs";import{t as J,w as Q,x as tt}from"./chunk-SYXLOHCJ.mjs";import{Ab as x,Ba as y,Bb as p,Cb as v,Cc as q,Db as W,Jb as f,Lb as T,Mb as N,Nb as $,Ob as m,Pb as g,Qb as S,Rb as R,Sb as U,Sc as H,Y as D,_c as M,ac as c,ea as L,f as E,hb as r,ib as k,ic as G,jc as X,l as z,lc as Y,oa as j,pa as A,sc as Z,ub as B,uc as K,xb as l,ya as V}from"./chunk-OQNIVP4F.mjs";import{d as F}from"./chunk-5XUXGTUW.mjs";var lt=e=>({$implicit:e});function pt(e,i){if(e&1&&S(0,"span",4),e&2){let t=c(3);p("nzType",t.icon)}}function dt(e,i){if(e&1&&(R(0),X(1),U()),e&2){let t=i.$implicit,n=c(4);r(),Y(" ",t(n.nzPercent)," ")}}function ht(e,i){if(e&1&&l(0,dt,2,1,"ng-container",5),e&2){let t=c(3);p("nzStringTemplateOutlet",t.formatter)("nzStringTemplateOutletContext",K(2,lt,t.nzPercent))}}function mt(e,i){if(e&1&&(m(0,"span",3),l(1,pt,1,1,"span",4)(2,ht,1,4,"ng-container"),g()),e&2){let t=c(2);r(),f((t.status==="exception"||t.status==="success")&&!t.nzFormat?1:2)}}function gt(e,i){if(e&1&&l(0,mt,3,1,"span",3),e&2){let t=c();f(t.nzShowInfo?0:-1)}}function ut(e,i){if(e&1&&S(0,"div",7),e&2){let t=i.$implicit;p("ngStyle",t)}}function zt(e,i){}function ft(e,i){if(e&1&&(m(0,"div",6),N(1,ut,1,1,"div",7,T),l(3,zt,0,0,"ng-template",8),g()),e&2){let t=c(2),n=G(1);r(),$(t.steps),r(2),p("ngTemplateOutlet",n)}}function St(e,i){if(e&1&&S(0,"div",13),e&2){let t=c(3);v("width",t.nzSuccessPercent,"%")("border-radius",t.nzStrokeLinecap==="round"?"100px":"0")("height",t.strokeWidth,"px")}}function _t(e,i){}function Ct(e,i){if(e&1&&(m(0,"div",9)(1,"div",10),S(2,"div",11),l(3,St,1,6,"div",12),g()(),l(4,_t,0,0,"ng-template",8)),e&2){let t=c(2),n=G(1);r(2),v("width",t.nzPercent,"%")("border-radius",t.nzStrokeLinecap==="round"?"100px":"0")("background",t.isGradient?null:t.nzStrokeColor)("background-image",t.isGradient?t.lineGradient:null)("height",t.strokeWidth,"px"),r(),f(t.nzSuccessPercent||t.nzSuccessPercent===0?3:-1),r(),p("ngTemplateOutlet",n)}}function yt(e,i){if(e&1&&(m(0,"div"),l(1,ft,4,1,"div",6)(2,Ct,5,12),g()),e&2){let t=c();r(),f(t.isSteps?1:2)}}function Pt(e,i){if(e&1&&(y(),S(0,"stop")),e&2){let t=i.$implicit;x("offset",t.offset)("stop-color",t.color)}}function kt(e,i){if(e&1&&(y(),m(0,"defs")(1,"linearGradient",17),N(2,Pt,1,2,":svg:stop",null,T),g()()),e&2){let t=c(2);r(),p("id","gradient-"+t.gradientId),r(),$(t.circleGradient)}}function xt(e,i){if(e&1&&(y(),S(0,"path",16)),e&2){let t=i.$implicit,n=c(2);p("ngStyle",t.strokePathStyle),x("d",n.pathString)("stroke-linecap",n.nzStrokeLinecap)("stroke",t.stroke)("stroke-width",n.nzPercent?n.strokeWidth:0)}}function vt(e,i){}function Tt(e,i){if(e&1&&(m(0,"div",10),y(),m(1,"svg",14),l(2,kt,4,1,":svg:defs"),S(3,"path",15),N(4,xt,1,5,":svg:path",16,T),g(),l(6,vt,0,0,"ng-template",8),g()),e&2){let t=c(),n=G(1);v("width",t.nzWidth,"px")("height",t.nzWidth,"px")("font-size",t.nzWidth*.15+6,"px"),W("ant-progress-circle-gradient",t.isGradient),r(2),f(t.isGradient?2:-1),r(),p("ngStyle",t.trailPathStyle),x("stroke-width",t.strokeWidth)("d",t.pathString),r(),$(t.progressCirclePath),r(2),p("ngTemplateOutlet",n)}}function Nt(e){return+e.replace("%","")}var ct=e=>{let i=[];return Object.keys(e).forEach(t=>{let n=e[t],o=Nt(t);isNaN(o)||i.push({key:o,value:n})}),i=i.sort((t,n)=>t.key-n.key),i},$t=e=>ct(e).map(({key:i,value:t})=>({offset:`${i}%`,color:t})),Gt=e=>{let a=e,{from:i="#1890ff",to:t="#1890ff",direction:n="to right"}=a,o=F(a,["from","to","direction"]);if(Object.keys(o).length!==0){let s=ct(o).map(({key:h,value:u})=>`${u} ${h}%`).join(", ");return`linear-gradient(${n}, ${s})`}return`linear-gradient(${n}, ${i}, ${t})`},It=0,at="progress",bt=new Map([["success","check"],["exception","close"]]),wt=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),Dt=e=>`${e}%`,Wt=(()=>{class e{get formatter(){return this.nzFormat||Dt}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||(this.nzType==="line"&&this.nzSize!=="small"?8:6)}get isCircleStyle(){return this.nzType==="circle"||this.nzType==="dashboard"}constructor(t,n,o){this.cdr=t,this.nzConfigService=n,this.directionality=o,this._nzModuleName=at,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=It++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new E}ngOnChanges(t){let{nzSteps:n,nzGapPosition:o,nzStrokeLinecap:a,nzStrokeColor:s,nzGapDegree:h,nzType:u,nzStatus:C,nzPercent:d,nzSuccessPercent:P,nzStrokeWidth:b}=t;C&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(d||P)&&(parseInt(this.nzPercent.toString(),10)>=100?(O(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||this.nzSuccessPercent===void 0)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(C||d||P||s)&&this.updateIcon(),s&&this.setStrokeColor(),(o||a||h||u||d||s||s)&&this.getCirclePaths(),(d||n||b)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(at).pipe(D(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe(D(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){let t=bt.get(this.status);this.icon=t?t+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){let t=Math.floor(this.nzSteps*(this.nzPercent/100)),n=this.nzSize==="small"?2:14,o=[];for(let a=0;a<this.nzSteps;a++){let s;a<=t-1&&(s=this.nzStrokeColor);let h={backgroundColor:`${s}`,width:`${n}px`,height:`${this.strokeWidth}px`};o.push(h)}this.steps=o}getCirclePaths(){if(!this.isCircleStyle)return;let t=O(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],n=50-this.strokeWidth/2,o=this.nzGapPosition||(this.nzType==="circle"?"top":"bottom"),a=Math.PI*2*n,s=this.nzGapDegree||(this.nzType==="circle"?0:75),h=0,u=-n,C=0,d=n*-2;switch(o){case"left":h=-n,u=0,C=n*2,d=0;break;case"right":h=n,u=0,C=n*-2,d=0;break;case"bottom":u=n,d=n*2;break;default:}this.pathString=`M 50,50 m ${h},${u}
       a ${n},${n} 0 1 1 ${C},${-d}
       a ${n},${n} 0 1 1 ${-C},${d}`,this.trailPathStyle={strokeDasharray:`${a-s}px ${a}px`,strokeDashoffset:`-${s/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=t.map((P,b)=>{let w=t.length===2&&b===0;return{stroke:this.isGradient&&!w?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:w?wt.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(P||0)/100*(a-s)}px ${a}px`,strokeDashoffset:`-${s/2}px`}}}).reverse()}setStrokeColor(){let t=this.nzStrokeColor,n=this.isGradient=!!t&&typeof t!="string";n&&!this.isCircleStyle?this.lineGradient=Gt(t):n&&this.isCircleStyle?this.circleGradient=$t(this.nzStrokeColor):(this.lineGradient=null,this.circleGradient=[])}static{this.\u0275fac=function(n){return new(n||e)(k(H),k(et),k(ot))}}static{this.\u0275cmp=j({type:e,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:[2,"nzSuccessPercent","nzSuccessPercent",I],nzPercent:[2,"nzPercent","nzPercent",M],nzStrokeWidth:[2,"nzStrokeWidth","nzStrokeWidth",I],nzGapDegree:[2,"nzGapDegree","nzGapDegree",I],nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:[2,"nzSteps","nzSteps",M]},exportAs:["nzProgress"],standalone:!0,features:[B,V,Z],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"]],template:function(n,o){n&1&&(l(0,gt,1,1,"ng-template",null,0,q),m(2,"div",1),l(3,yt,3,1,"div")(4,Tt,7,13,"div",2),g()),n&2&&(r(2),W("ant-progress-line",o.nzType==="line")("ant-progress-small",o.nzSize==="small")("ant-progress-default",o.nzSize==="default")("ant-progress-show-info",o.nzShowInfo)("ant-progress-circle",o.isCircleStyle)("ant-progress-steps",o.isSteps)("ant-progress-rtl",o.dir==="rtl"),p("ngClass","ant-progress ant-progress-status-"+o.status),r(),f(o.nzType==="line"?3:-1),r(),f(o.isCircleStyle?4:-1))},dependencies:[it,nt,st,rt,J,tt,Q],encapsulation:2,changeDetection:0})}}return z([_()],e.prototype,"nzShowInfo",void 0),z([_()],e.prototype,"nzStrokeColor",void 0),z([_()],e.prototype,"nzSize",void 0),z([_()],e.prototype,"nzStrokeWidth",void 0),z([_()],e.prototype,"nzGapDegree",void 0),z([_()],e.prototype,"nzGapPosition",void 0),z([_()],e.prototype,"nzStrokeLinecap",void 0),e})(),te=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=A({type:e})}static{this.\u0275inj=L({imports:[Wt]})}}return e})();export{Wt as a,te as b};
